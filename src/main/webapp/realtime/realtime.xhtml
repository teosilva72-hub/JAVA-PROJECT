<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf" template="/template/dashboard-rov-layout.xhtml">

	<ui:define name="head">

        <h:outputStylesheet name="form-style.css" library="css/forms" />
		<h:outputStylesheet name="layoutSAT.css" library="css/sat" />
		<h:outputStylesheet name="layoutPMV.css" library="css/pmv" />
		<h:outputStylesheet name="layoutGENERIC.css" library="css/generic" />
		<h:outputStylesheet name="realtime.css" library="css/realtime" />
	    <h:outputStylesheet library="css/validation" name="validation_style.css" />

		<!-- Script -->
		<h:outputScript library="js/realtime" name="realtime.js?version=#{notificationsView.timestamp}"  />
		<h:outputScript library="bootstrap/js" name="bootstrap-input-spinner.js?version=#{notificationsView.timestamp}" />
		<h:outputScript library="js/validation-forms/user-interface" name="user-interface-validation.js?version=#{notificationsView.timestamp}" />

		<style>
			@keyframes myMove {
				from {
					background-position: 100% 0;
					background-repeat: repeat;
				}

				to {
					background-position: 0% 0;
				}
			}
		</style>
				
		<script>
		
		////////////////////////////////////
		//AUTO UPDATE PAGE INTERVAL
		///////////////////////////////////
		
		setTimeout(() => {			
			setInterval(() => {
				
			    var data = new Date();
			    var n = data.getSeconds();
			    var minute = data.getMinutes();
			                          		
			     if (minute == 1 || minute == 16 || minute == 31 || minute == 46) {         	        	
			           if (n &lt; 4) 		   
			        	   
			        	   location.href = location.protocol + '//' + location.host + location.pathname
			     }
			     
			}, 3000)
		}, 4000)
	
		////////////////////////////////////
		//AUTO UPDATE PAGE INTERVAL
		///////////////////////////////////
		
		$(function () {
  $('[data-toggle="popover"]').popover({
	  html : true,
	  trigger: 'hover',
      content: function() {
        var content = $(this).attr("data-popover-content");
        return $(content).children(".popover-body").html();
      },
      title: function() {
        var title = $(this).attr("data-popover-content");
        return $(title).children(".popover-header").html();
      }
  });
  
  });
		$(function () {
			  $('[data-toggle="tooltip"]').tooltip()
	})
			 
    </script>

	</ui:define>

	<ui:define name="main-content">
		
	<!--  ******************************************************************************************************* -->

		<!-- ALERTS POSITION -->
		
		<div class="messages">

		<div class="alert alert-success" role="alert" style="display: none;" id="realsave">
			<p class="textAlert">#{mapLabels.map_alert_success}.</p>
		</div>

		<div class="alert alert-danger" role="alert" style="display: none;" id="realcancel">
			<p class="textAlert">#{mapLabels.map_alert_cancel}</p>
		</div>
		
		<!--  ******************************************************************************************************* -->
		
		<!-- SAVE EQUIP -->
		<div class="alert alert-success" role="alert" style="display: none;"
			id="equip-save">
			<p class="textAlert">#{mapLabels.map_alert_save_equipment}</p>
		</div>
		
		<!-- SAVE EQUIP ERROR -->
		<div class="alert alert-danger" role="alert" style="display: none;" 
			id="equip-save-error">
			<p class="textAlert">#{mapLabels.map_alert_save_error_equipment} : #{mapLabels.map_alert_save_error_already}</p>
		</div>
		
		<!--  ******************************************************************************************************* -->
		
		<!-- UPDATE EQUIP -->
		<div class="alert alert-success" role="alert" style="display: none;"
			id="equip-update">
			<p class="textAlert">#{mapLabels.map_alert_update_equipment}</p>
		</div>
		
		<!-- UPDATE EQUIP ERROR -->
		<div class="alert alert-danger" role="alert" style="display: none;" 
			id="equip-update-error">
			<p class="textAlert">#{mapLabels.map_alert_update_error_equipment}</p>
		</div>
		
	    <!--  ******************************************************************************************************* -->
		
		<!-- DELETE EQUIP -->
		<div class="alert alert-success" role="alert" style="display: none;"
			id="equip-delete">
			<p class="textAlert">#{mapLabels.map_alert_delete_equipment}</p>
		</div>
		
		<!-- DELETE EQUIP ERROR -->
		<div class="alert alert-danger" role="alert" style="display: none;" 
			id="equip-delete-error">
			<p class="textAlert">#{mapLabels.map_alert_delete_error_equipment}</p>
		</div>

       <!--  ******************************************************************************************************* -->
       
       </div>     
       
		<!-- WEB ZOOM -->
		<div class="map-options">
			<div id="topButtons">
				
				<button type="button" id="zoomIn" class="zoomButton" data-toggle="tooltip" data-placement="bottom"
					title="Zoom In">
					<span><i class="fas fa-plus-square fa-2x"></i></span>
				</button>

				<button type="button" id="zoomOut" class="zoomButton" data-toggle="tooltip" data-placement="bottom"
					title="Zoom Out">
					<span><i class="fas fa-minus-square fa-2x"></i></span>
				</button>

				<button type="button" id="addequip" class="btn btn-dark form-modal-draw-button"
					onclick="$('#direction3').hide(); $('#direction4').hide(); $('#direction5').hide(); $('#direction6').hide(); $('#direction7').hide(); $('#direction8').hide();"
					title="Add Equipment" data-toggle="modal"
					data-target="#modaladd">#{mapLabels.map_creation_btn_add_equipment}</button>

			</div>
			
             <!--  ******************************************************************************************************* -->
			
			<h:form id="real">

				<h:inputHidden id="equipIdPos" value="#{equipsBean.equipId}" />
				<h:inputHidden id="equipTablePos" value="#{equipsBean.equipTable}" />
				<h:inputHidden id="equipPosX" value="#{equipsBean.positionX}" />
				<h:inputHidden id="equipPosY" value="#{equipsBean.positionY}" />
				<input type="hidden" id="positionView" name="positionView" value="linear" />
				
		     <!--  ******************************************************************************************************* -->
				
				<h:commandButton id="savePos" style="display:none;"
					class="btn btn-dark form-modal-draw-button save_pos"
					value="#{mapLabels.map_position_btn_save_equipment}" onclick="alert('#realsave');" >					
					<f:ajax execute="@form" render="@none" listener="#{equipsBean.definePosition}" />
				</h:commandButton>
				
		     <!--  ******************************************************************************************************* -->

				<h:commandButton id="cancelPos" style="display:none;" class="btn btn-dark form-modal-draw-button cancel_pos"
					value="#{mapLabels.map_position_btn_cancel_equipment}" onclick="alert('#realcancel');"
					title="Cancel Change Position">
					<f:ajax render="#realcancel" onevent="reloadAfterCancelPos" />
				</h:commandButton>
			</h:form>
			
			<!--  ******************************************************************************************************* -->						 
			
		</div>
		
		<!-- OVERFLOW -->
		<section class="overflow" scroll-zoom="0.1" max-scale="1.5" id="content" >			
		
            <!-- START SECTION -->
			<div id="zoomtext" scale="1" class="section">				
				<h:graphicImage class="grab-map" value="#{loginAccount.linearMapUI}" /> <!-- MAP FRONT IMAGE -->
			</div>
																
			<!-- DRAG ITEMS -->		
			<div class="draggable" id="equipAll">
			
			<!-- Carrega os equipamentos -->

				<c:forEach items="#{listEquips.equips}" var="loadItem"> 

					<ui:fragment rendered="#{loadItem.value}">
						
							<div class="equipments">
								
								<c:forEach items="#{loadItem.list}" var="item" varStatus="loop">
								
									<c:choose>
									<c:when test="#{item.table_id eq 'dms'}">
										<div id="listPMV#{item.equip_id}" type="#{item.message.tipo}"
											name="#{item.nome}" driver="#{item.message.driver}">																
											<input type="hidden" name="page1"
												imageId="#{item.message.pages[0].id_image}"
												image="#{item.message.pages[0].image}"
												imageId2="#{item.message.pages[0].id_image2}"
												image2="#{item.message.pages[0].image2}"
												line1="#{item.message.pages[0].text1}"
												line2="#{item.message.pages[0].text2}"
												line3="#{item.message.pages[0].text3}"
												timer="#{item.message.pages[0].timer}" />
											<input type="hidden" name="page2"
												imageId="#{item.message.pages[1].id_image}"
												image="#{item.message.pages[1].image}"
												imageId2="#{item.message.pages[1].id_image2}"
												image2="#{item.message.pages[1].image2}"
												line1="#{item.message.pages[1].text1}"
												line2="#{item.message.pages[1].text2}"
												line3="#{item.message.pages[1].text3}"
												timer="#{item.message.pages[1].timer}" />
											<input type="hidden" name="page3"
												imageId="#{item.message.pages[2].id_image}"
												image="#{item.message.pages[2].image}"
												imageId2="#{item.message.pages[2].id_image2}"
												image2="#{item.message.pages[2].image2}"
												line1="#{item.message.pages[2].text1}"
												line2="#{item.message.pages[2].text2}"
												line3="#{item.message.pages[2].text3}"
												timer="#{item.message.pages[2].timer}" />
											<input type="hidden" name="page4"
												imageId="#{item.message.pages[3].id_image}"
												image="#{item.message.pages[3].image}"
												imageId2="#{item.message.pages[3].id_image2}"
												image2="#{item.message.pages[3].image2}"
												line1="#{item.message.pages[3].text1}"
												line2="#{item.message.pages[3].text2}"
												line3="#{item.message.pages[3].text3}"
												timer="#{item.message.pages[3].timer}" />
											<input type="hidden" name="page5"
												imageId="#{item.message.pages[4].id_image}"
												image="#{item.message.pages[4].image}"
												imageId2="#{item.message.pages[4].id_image2}"
												image2="#{item.message.pages[4].image2}"
												line1="#{item.message.pages[4].text1}"
												line2="#{item.message.pages[4].text2}"
												line3="#{item.message.pages[4].text3}"
												timer="#{item.message.pages[4].timer}" />
										</div>
										<div id="#{item.table_id}#{item.equip_id}" class="equip-info #{item.table_id}"
											posX="#{item.linearPosX}" posY="#{item.linearPosY}" item-width="#{item.linearWidth}">

											<!-- Table with DIV -->

											<div class="tableStyle card">										
												<div class="dms-name card-header py-0">											
													<div class="text-center dmsTab#{item.equip_id}">													
													<a role="button" class="dms-info-bagde" data-toggle="popover" 
									                 data-popover-content="#pop#{item.table_id}#{item.equip_id}">i</a>													
														<span class="namePMV">#{item.nome}</span>
														<span class="kmPMV">#{item.km}</span>
													</div>
												</div>
												<div class="row text-center card-body p-0">
													<div id="child-img" class="col-2 padding-pmv">
														<img src="/resources/images/pictures/#{pmvMessage.image}"
															class="picture-box primary" id-img="0" />
													</div>
													<div id="child-msg" class="col-auto msg-pos">
														<div id="message" class="table-message">
															<div class="row border-table-right message1" msg="">
																<div class="col-1 px-0 border-table">
																	<span id="box-1"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-2"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-3"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-4"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-5"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-6"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-7"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-8"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-9"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-10"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-11"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-12"></span>
																</div>
															</div>
															<div class="row border-table-right message2" msg="">
																<div class="col-1 px-0 border-table">
																	<span id="box-13"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-14"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-15"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-16"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-17"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-18"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-19"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-20"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-21"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-22"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-23"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-24"></span>
																</div>
															</div>
															<div class="row border-table-right bottom message3" msg="">
																<div class="col-1 px-0 border-table">
																	<span id="box-25"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-26"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-27"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-28"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-29"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-30"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-31"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-32"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-33"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-34"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-35"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-36"></span>
																</div>
															</div>
														</div>
													</div>
													<div id="child-img" class="col-2 second-img ml-auto">
														<img src="/resources/images/pictures/#{pmvMessage.image}"
															class="picture-box secondary" id-img="0" />
													</div>
												</div>
											</div>
										</div>
										
										<div id="pop#{item.table_id}#{item.equip_id}" style="display: none;">
											<div class="popover-header">#{infoLabels.info_label_header}</div>

											<div class="popover-body">
											
												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_equip_module}
															:</b>&nbsp;#{item.equip_type}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_equip_id}
															:</b>&nbsp;#{item.equip_id}</div>
												</div>
												
												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_name}
															:</b>&nbsp;#{item.nome}</div>
												</div>
												
												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_equip_ip}
															:</b>&nbsp;#{item.dms_ip}</div>
												</div>
												
												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_equip_driver}
															:</b>&nbsp;#{item.dms_type}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_highway}
															:</b>&nbsp;#{item.estrada}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_km}
															:</b>&nbsp;#{item.km}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_city}
															:</b>&nbsp;#{item.cidade}&nbsp;&nbsp;&nbsp;</div>
												</div>
											</div>
										</div>
										
									</c:when>										
									
									
							    <c:when test="#{item.table_id eq 'sat'}">
										
								<div id="#{item.table_id}#{item.equip_id}" class="equip-box-sat text-dark" posX="#{item.linearPosX}" posY="#{item.linearPosY}" item-width="#{item.linearWidth}" status-period="#{satMapsView.satListValues.get(loop.index).statusInterval}" status="#{satMapsView.satStatus.get(loop.index).status}">
								<div id="sat#{item.equip_id}" class="table-sat card border-dark">
									<div id="satName#{item.equip_id}" class="satName card-header p-0 border-dark">									
										<div id="satTab#{item.equip_id}" class="text-center">
											<p class="mb-0">#{item.nome} - #{item.km}</p>
										</div>
										
									 <a role="button" class="sat-info-bagde" data-toggle="popover" 
									         data-popover-content="#pop#{item.table_id}#{item.equip_id}">i</a>								 
									
								   </div>
									<div class="row text-center card-body p-0 mx-0">
										<div class="col-5 padding-sat border-right border-bottom border-dark on-mouse-hover" data-toggle="tooltip" data-placement="left" title="#{item.sentido1}" >
											<i class="fas fa-car sat-cars"
												title="#{realtimeLabels.realtime_sat_cars_icon_title}"></i>
											<span id="qtd1">#{satMapsView.satListValues.get(loop.index).quantidadeS1}</span>
										</div>
										<div class="col-7 padding-sat border-bottom border-dark on-mouse-hover" data-toggle="tooltip" data-placement="right" title="#{item.sentido1}" >
											<i class="fas fa-tachometer-alt sat-speed" title="km/h"></i>
											<span id="spd1">#{satMapsView.satListValues.get(loop.index).velocidadeS1}</span><span class="km"> km/h</span>
										</div>
										<div class="col-5 padding-sat border-right border-dark on-mouse-hover" data-toggle="tooltip" data-placement="left" title="#{item.sentido2}">
											<i class="fas fa-car sat-cars"
												title="#{realtimeLabels.realtime_sat_speed_icon_title}"></i>
											<span id="qtd2">#{satMapsView.satListValues.get(loop.index).quantidadeS2}</span>
										</div>
										<div class="col-7 padding-sat on-mouse-hover" data-toggle="tooltip" data-placement="right" title="#{item.sentido2}">
											<i class="fas fa-tachometer-alt sat-speed" title="km/h"></i>
											<span id="spd2">#{satMapsView.satListValues.get(loop.index).velocidadeS2}</span><span class="km"> km/h</span>
										</div>
									</div>

								</div>
								<div id="fluxos">

									<div id="img1FluxoTab#{item.equip_id}" class="on-mouse-hover fluxo-1-margin" data-toggle="tooltip" data-placement="top" title="#{item.sentido1}" ></div>								
							
									<div id="img2FluxoTab#{item.equip_id}" class="on-mouse-hover fluxo-2-margin" data-toggle="tooltip" data-placement="top" title="#{item.sentido2}" ></div>
								</div>
											
								<!-- HTML to write -->
																
							</div>
							
								  <div id="pop#{item.table_id}#{item.equip_id}" style="display: none;">
										<div class="popover-header">#{infoLabels.info_label_header}</div>
													
										<div class="popover-body">
																					
										<div class="row">
										<div class="equip-label-left"><b>#{infoLabels.info_label_equip_id} :</b>&nbsp;#{item.equip_id}</div>								
										</div>
										
										<div class="row">
										<div class="equip-label-left"> <b>#{infoLabels.info_label_name} :</b>&nbsp;#{item.nome}</div>
										</div>
										
										<div class="row">
										<div class="equip-label-left"><b>#{infoLabels.info_label_highway} :</b>&nbsp;#{item.estrada}</div>							            					
										</div>
																		
										<div class="row">								
										<div class="equip-label-left"><b>#{infoLabels.info_label_km} :</b>&nbsp;#{item.km}</div>				            					
										</div>
										
										<div class="row">
										 <div class="equip-label-left"><b>#{infoLabels.info_label_city} :</b>&nbsp;#{item.cidade}&nbsp;&nbsp;&nbsp;</div>	
										</div>
										<div class="row">								
							            <div class="equip-label-left"><b>#{infoLabels.info_label_number_lanes} :</b>&nbsp;#{item.numFaixas}&nbsp;</div>
										</div>
										
										<div class="row">
										<div class="equip-label-left"><b>#{infoLabels.info_label_direction1} :</b>&nbsp;#{item.sentido1}&nbsp;&nbsp;&nbsp;</div>
										</div>
										
										<div class="row">								
							            <div class="equip-label-left"> <b>#{infoLabels.info_label_direction2} :</b>&nbsp;#{item.sentido2}&nbsp;&nbsp;&nbsp;</div>
										</div>
												
									   </div>
									 </div>
											
										</c:when>
																			
										<c:otherwise>
											<div id="#{item.table_id}#{item.equip_id}" posX="#{item.linearPosX}"
												posY="#{item.linearPosY}" item-width="#{item.linearWidth}" class="equip-box #{item.table_id}">	
																		         
											<div id="#{item.table_id}Tab#{item.equip_id}" class="row mb-3 ml-1 equip-header">		<!-- HEADER -->									
												<p class="col-auto mb-0 pr-1">#{item.nome}</p>
												<p class="col-12 mb-0">#{item.km}</p>
											</div> <!---->
											
											<c:if test="#{item.table_id eq 'cftv'}">
												<h:graphicImage class="equip-image"
													value="/resources/images/equips/camera.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'colas'}">
												<h:graphicImage class="equip-imageCOLAS"
													value="/resources/images/equips/colas.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'comms'}">
												<h:graphicImage class="equip-imageCOMMS"
													value="/resources/images/equips/comms.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'dai'}">
												<h:graphicImage class="equip-imageDAI"
													value="/resources/images/equips/dai.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'lpr'}">
												<h:graphicImage class="equip-imageLPR"
													value="/resources/images/equips/lpr.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'mto'}">
												<h:graphicImage class="equip-imagePOST"
													value="/resources/images/equips/metereologico.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'sos'}">
												<h:graphicImage class="equip-image"
													value="/resources/images/equips/sos.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'speed'}">
												<h:graphicImage class="equip-imageSPD"
													value="/resources/images/equips/speed.png" />
											</c:if>
											<c:if test="#{item.table_id eq 'wim'}">
												<h:graphicImage class="equip-image"
													value="/resources/images/equips/wim.png" />
											</c:if>
																										
										   <a role="button" class="generic-info-bagde" data-toggle="popover" 
									         data-popover-content="#pop#{item.table_id}#{item.equip_id}">i</a>
											 <span id="#{item.table_id}Status1" class="equip-status"></span>										
										</div>
										
										<div id="pop#{item.table_id}#{item.equip_id}" style="display: none;">
											<div class="popover-header">#{infoLabels.info_label_header}</div>

											<div class="popover-body">
											
												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_equip_module}
															:</b>&nbsp;#{item.equip_type}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_equip_id}
															:</b>&nbsp;#{item.equip_id}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"> <b>#{infoLabels.info_label_name}
															:</b>&nbsp;#{item.nome}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_highway}
															:</b>&nbsp;#{item.estrada}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_km}
															:</b>&nbsp;#{item.km}</div>
												</div>

												<div class="row">
													<div class="equip-label-left"><b>#{infoLabels.info_label_city}
															:</b>&nbsp;#{item.cidade}&nbsp;&nbsp;&nbsp;</div>
												</div>
											</div>
										</div>
																				
									</c:otherwise>
									</c:choose>
							
								</c:forEach>
							
							</div>

					</ui:fragment>
					
				</c:forEach>					
			
			</div>	<!---->	
				
			</section>
	</ui:define>
	
	
	
		<!-- ************************************************************************************* -->
	<!-- ************************************* CREATE **************************************** -->
	<!-- ************************************************************************************* -->
	
	<ui:define name="modal-content"> <!-- MODAL CONTENT UI -->
	
		<div class="modal fade" id="modaladd" role="dialog"> <!-- MODAL ADD -->
			<div class="modal-dialog" role="document"> <!-- MODAL DIALOG -->

				<h:form class="modal-content" name="register-equip-form" id="register-equip-form"> <!-- FORM -->

					<div class="modal-header text-center"> <!-- MODAL HEADER -->	
							<h4 class="modal-title w-100 font-weight-bold">#{mapLabels.map_creation_modal_title}</h4>
							<button type="button" id="close-btn" class="close" data-dismiss="modal" 
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div> <!---->						
					      <div class="modal-body" id="bodyeqp"> <!-- MODAL BODY -->	
					      
					       <!--  ******************************************************************************************************* -->
					
							<!-- ***** EQUIPMENTS OPTIONS ***** -->	
																			
								<div class="form-row"> <!-- ROW -->	 
								<div class="form-group col-md-12 select-field">	<!-- SELECT DIV -->								
										<span><i class="fas fa-hdd"></i></span> <!-- SPAN ICON --> <span for="equips" 	
											class="valid-icon-hidden"></span> <!-- SPAN VALIDATION -->								
											<select
											name="equips" id="equips" size="1">
											<option value="">#{mapLabels.map_creation_select_type_equipments}</option>
											<ui:repeat var="eqp" value="#{equipsBean.module}" varStatus="eqpStatus">
												<option value="#{eqp.value}">#{eqp.label}</option>
											</ui:repeat>											
										</select>  <!-- SELECT -->	
										</div> <!---->								
										<div class="error-label"> <!-- ERROR DIV -->	
											<label for="equips" class="error" id="equips-error"></label>
										</div>  <!---->	 					   
								   </div>  <!---->
								
							<!-- EQUIPMENTS OPTIONS -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- EQUIPMENT ID -->
							
							<div class="form-row"> <!-- ROW -->	
								<div class="form-group col-md-12 input-field" id="contentEquipId"> <!-- INPUT DIV -->
									<span><i class="fab fa-ideal"></i></span><!-- SPAN ICON --> <span for="equipId" 
										class="valid-icon-hidden"></span><!-- SPAN VALIDATION --> <input
										type="text" autocomplete="off"
										name="equipId" id="equipId"
										placeholder="#{mapLabels.map_creation_input_equip_id}" /> <!-- INPUT -->							
								</div> <!---->
								<div class="error-label"> <!-- ERROR DIV -->	 
									<label for="equipId" class="error" id="equipId-error"></label>
								</div> <!---->
                             </div> <!----> 
                             
								<!-- EQUIPMENT ID -->
								
								 <!--  ******************************************************************************************************* -->

							<!-- DMS TYPE -->
							
							<div class="form-row dmsHidden"> <!-- ROW -->	   
							<div class="form-group col-md-12 select-field dmsHidden"> <!-- SELECT DIV -->
								<span><i class="fas fa-th-list"></i></span><!-- SPAN ICON --> <span for="dmsType"
									class="valid-icon-hidden"></span><!-- SPAN VALIDATION --> <select name="dmsType"
									id="dmsType" size="1">									
									<option value="">#{mapLabels.map_creation_select_dms_type}</option>
									<ui:repeat var="tp" value="#{equipsBean.dmsType}"
										varStatus="tpStatus">
										<option value="#{tp.value}">#{tp.label}</option>
									</ui:repeat>
								</select> <!-- SELECT -->	
							</div> <!----> 
							<div class="error-label"><!-- ERROR DIV --></div> <!----> 
                            </div> <!----> 
                            
							<!-- DMS TYPE -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- DMS IP ADDRESS -->
							
                               <div class="form-row dmsHidden"> <!-- ROW -->
								 <div class="form-group col-md-12 input-field "> <!-- INPUT DIV -->
									<span><i class="fas fa-signature"></i></span> <!-- SPAN ICON -->
										<input type="text" autocomplete="off"
										name="dmsIp" id="dmsIp"
										placeholder="#{mapLabels.map_dms_ip_address_place_holder}" /> <!-- INPUT -->									
								</div> <!----> 
								<div class="error-label"> <!-- INPUT --> </div> <!----> 
							  </div> <!----> 
												
							<!-- ***** DMS IP ADDRESS ***** -->
							
							 <!--  ******************************************************************************************************* -->
														
							<!-- ***** EQUIPMENT NAME ***** -->
							
                               <div class="form-row"> <!-- ROW -->
								 <div class="form-group col-md-12 input-field"> <!-- INPUT DIV -->
									<span><i class="fas fa-signature"></i></span> <!-- SPAN ICON -->
									<span for="equipName" class="valid-icon-hidden"></span><!-- SPAN VALIDATION -->
										<input type="text" autocomplete="off"
										name="equipName" id="equipName"
										placeholder="#{mapLabels.map_creation_input_name}" /> <!-- INPUT -->									
								 </div>	<!----> 	
								   <div class="error-label"> <!-- ERROR DIV -->  
									  <label for="equipName" class="error" id="equipName-error"></label>
									</div> <!----> 			
							  </div> <!----> 
							  
							<!-- ***** EQUIPMENT NAME ***** -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- ***** CITY ***** -->
							
							<div class="form-row"> <!-- ROW --> 
								<div class="form-group col-md-12 select-field">	 <!-- SELECT --> 								
										<span><i class="fas fa-city"></i></span> <!-- SPAN ICON -->											
											<select name="cities" id="cities" size="1">
											<option value="">#{mapLabels.map_creation_select_city}</option>
											<ui:repeat var="city" value="#{equipsBean.cities}" varStatus="cityStatus">
												<option value="#{city.value}">#{city.label}</option>
											</ui:repeat>
										</select> <!-- SELECT --> 									
								   </div>  <!----> 								
										<div class="error-label"> <!-- ERROR DIV -->  </div>  <!----> 								
							      </div>  <!----> 
							
								<!-- ***** CITY ***** -->
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** ROAD ***** -->

	                            <div class="form-row"> <!-- ROW --> 
								  <div class="form-group col-md-6 select-field"> <!-- SELECT DIV --> 										
										<span><i class="fas fa-road"></i></span> <!-- SPAN ICON --> 											
											<select name="roads" id="roads" size="1">
											<option value="">#{mapLabels.map_creation_select_road}</option>
											<ui:repeat var="road" value="#{equipsBean.roads}" varStatus="roadStatus">
												<option value="#{road.value}">#{road.label}</option>
											</ui:repeat>
										</select>  <!-- SELECT -->											
                                    </div>	<!----> 
												   
							<!-- ***** ROAD ***** -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- ***** KM ***** -->

								<div class="form-group col-md-6 input-field"> <!-- ROW --> 
									<span><i class="fas fa-sign"></i></span> <!-- SPAN ICON -->
										<input type="text" autocomplete="off" name="km" id="km" maxlength="7" class="km"
										placeholder="#{mapLabels.map_creation_input_km}" />	<!-- INPUT --> 								
								</div> <!----> 										
							</div> <!----> 	
							
							<!-- ***** KM ***** -->
							
							 <!--  ******************************************************************************************************* -->
																					
							<!-- ***** TRACKS ***** -->
														
							<div class="form-row satInputs" style="display: none;"> <!-- ROW -->
								<div class="form-group col-md-12 select-field"> <!-- SELECT DIV -->
								<span><i class="fas fa-grip-lines"></i></span> <!-- SPAN ICON -->														
										<select name="lanes" id="lanes" size="1" style="width:100%;"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_select_lanes}</option>
											<ui:repeat var="lane" value="#{equipsBean.lanes}" varStatus="laneStatus">
												<option value="#{lane.value}">#{lane.label}</option>
											</ui:repeat>
										</select> <!---->   
									</div> <!----> 
									<div class="error-label"> <!-- ERROR-LABEL --> </div> <!----> 
								</div> <!----> 
                              
								<!-- ***** TRACKS ***** -->
								
								 <!--  ******************************************************************************************************* -->
								
							<!-- ***** DIRECTION LANES ***** -->	
							
							<div class="form-row satInputs" style="display: none;"> <!-- ROW --> 

								<!-- ***** DIRECTION 1 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction1" id="direction1" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir1}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** DIRECTION 2 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction2" id="direction2" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir2}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** DIRECTION 3 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction3" id="direction3" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir3}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
							
							<!-- ***** DIRECTION 4 ***** -->
							
								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction4" id="direction4" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir4}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 	
								
								 <!--  ******************************************************************************************************* -->			
							
						<!-- ***** DIRECTION 5 ***** -->
						
				         <div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction5" id="direction5" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir5}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
							
							 <!-- ***** DIRECTION 6 ***** -->
						
							<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction6" id="direction6" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir6}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
						     
						     <!-- ***** DIRECTION 7 ***** -->
						     
						  <div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction7" id="direction7" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir7}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
								
							<!-- ***** DIRECTION 8 ***** -->	
							
						<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction8" id="direction8" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir8}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
							</div> <!-- ROW LANES --> 						  
						</div> <!----> 
						
						 <!--  ******************************************************************************************************* --> 
																
						<!-- ***** MODAL BUTTONS ***** -->

						<div class="modal-footer">
						
							<h:commandButton 
								value="#{mapLabels.map_creation_btn_save_equipment}"
								id="btn-form-send" class="btn btn-dark form-modal-draw-button" >
								<f:ajax execute="@form" render=":equips :equipIds :equipName :cities :roads :km
								:lanes :direction1 :direction2 :direction3 :direction4 :direction5 :direction6 :direction7 : direction8"
								listener="#{equipsBean.createEquipment}" onevent="checkValidation" />
							</h:commandButton>			 									
							
							<h:commandButton
								value="#{mapLabels.map_creation_btn_cancel_equipment}"
								id="btn-form-reset" immediate="true" type="reset"
								class="btn btn-dark form-modal-draw-button reset-btn" >
								<f:ajax execute="@form" render=":equips :equipIds :equipName :cities :roads :km
								:lanes :direction1 :direction2 :direction3 :direction4 :direction5 :direction6 :direction7 : direction8" />
							</h:commandButton>

						</div>				
				</h:form>
			</div>
		</div>
		
	    <!-- ************************************************************************************* -->
		<!-- ************************************* CREATE **************************************** -->
		<!-- ************************************************************************************* -->
		
		
		<!-- ************************************************************************************* -->
		<!-- ************************************ OPTIONS **************************************** -->
		<!-- ************************************************************************************* -->

	
		<div class="modal fade" id="OPmodal" role="dialog"> <!-- OPTIONS MODAL -->
			<div class="modal-dialog"> <!-- MODAL DIALOG -->
				<!-- Modal Label-->
				<div class="modal-content"> <!-- MODAL CONTENT -->
					<div class="modal-header text-center">
						<h4 class="modal-title w-100 font-weight-bold">#{mapLabels.map_option_modal_title}</h4>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>

					</div>

					<div class="modal-body"> <!-- MODAL BODY -->
											
						<h:form id="form-modal-submit"> <!-- FORM OPTIONS -->

							<div class="form-row"> <!-- ROW -->
								<div class="form-group col-md-4 text-center"> <!-- FORM GROUP EDIT BUTTON -->

                                    <!-- INPUT HIDDEN VALUES -->
									<h:inputHidden id="equipCod" value="#{equipsBean.equipId}" />
									<h:inputHidden id="equipTable" value="#{equipsBean.equipTable}" />
									<input type="hidden" value="linear" id="interface-search" name="interface-search" />
									
									 <!-- EDIT BUTTON -->
									 
									<h:commandButton id="btn-edit" value="#{mapLabels.map_creation_btn_edit_equipment}"
										onclick="sendToBean(); $('#OPmodal').modal('toggle'); hideEditDirections();" class="btn btn-dark form-modal-draw-button"
										action="#{equipsBean.SearchEquipment}">
										<f:passThroughAttribute name="data-toggle" value="modal" />
										<f:passThroughAttribute name="data-target" value="#editmodal" />
										<f:ajax execute="@form" render="edit-equip-form:equipId  edit-equip-form:equipName edit-equip-form:cities
								         edit-equip-form:roads edit-equip-form:km edit-equip-form:width"  />
									</h:commandButton> <!----> 
								</div> <!----> 
								
								<div class="form-group col-md-4 text-center"> <!-- FORM GROUP POSITION BUTTON -->
								
								     <!-- INPUT HIDDEN VALUES -->
									<h:inputHidden id="positionX" />
									<h:inputHidden id="positionY" />
									
									<!-- POSITION BUTTON -->
									<h:commandButton value="#{mapLabels.map_creation_btn_move_equipment}"
										onclick="dragEquip(); hiddenBtns(); $('#OPmodal').modal('hide');"
										class="btn btn-dark form-modal-draw-button btn-pos">
										<f:ajax execute="@form" render="@none" />
									</h:commandButton> <!---->
								</div> <!---->

								<div class="form-group col-md-4 text-center"> <!-- FORM GROUP DELETE BUTTON -->
																 								
								    <!-- DELETE BUTTON -->								
									<h:commandButton value="#{mapLabels.map_creation_btn_delete_equipment}" 
										action="#{equipsBean.runDel}" onclick="sendToBean(); $('#OPmodal').modal('hide');"
										class="btn btn-dark form-modal-draw-button">
										<f:passThroughAttribute name="data-toggle" value="modal" />
										<f:passThroughAttribute name="data-target" value="#deletemodal" />
										<f:ajax execute="@form" render="delete-equip-form:del-equip-name" />
									</h:commandButton> <!---->
								</div> <!---->
							</div> <!---->
						</h:form> <!---->						
					</div> <!---->
				</div> <!---->
			</div> <!----> 
		</div> <!---->
		
		<!-- ************************************************************************************* -->
		<!-- ************************************ OPTIONS **************************************** -->
		<!-- ************************************************************************************* -->
		
		<!-- ************************************************************************************* -->
		<!-- ************************************* EDITION *************************************** -->
		<!-- ************************************************************************************* -->

		<div class="modal fade" id="editmodal" role="dialog"> <!-- MODAL ADD -->
			<div class="modal-dialog" role="document"> <!-- MODAL DIALOG -->

				<h:form class="modal-content" name="edit-equip-form" id="edit-equip-form"> <!-- FORM -->

					<div class="modal-header text-center"> <!-- MODAL HEADER -->	
							<h4 class="modal-title w-100 font-weight-bold">#{mapLabels.map_edit_modal_title}</h4>
							<button type="button" id="close-btn" class="close" data-dismiss="modal" 
								aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>
						</div> <!---->						
					      <div class="modal-body" id="bodyeqp"> <!-- MODAL BODY -->	
					      
					       <!--  ******************************************************************************************************* -->
					
							<!-- ***** EQUIPMENTS OPTIONS ***** -->	
																			
								<div class="form-row"> <!-- ROW -->	 
								<div class="form-group col-md-6 select-field">	<!-- SELECT DIV -->								
										<span><i class="fas fa-hdd"></i></span> <!-- SPAN ICON --> <span for="equips-edit" 	
											class="valid-icon-hidden"></span> <!-- SPAN VALIDATION --> 
											
											<input type="hidden" value="linear" id="interface" name="interface" />
											
											<select
											name="equips-edit" id="equips-edit" size="1" disabled="true" >
											<option value="">#{mapLabels.map_creation_select_type_equipments}</option>
											<ui:repeat var="eqp" value="#{equipsBean.module}" varStatus="eqpStatus">
												<option value="#{eqp.value}">#{eqp.label}</option>
											</ui:repeat>											
										</select>  <!-- SELECT -->	
										</div> <!---->								   
								
							<!-- EQUIPMENTS OPTIONS -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- EQUIPMENT ID -->
														
								<div class="form-group col-md-6 input-field" id="contentEquipId"> <!-- INPUT DIV -->
									<span><i class="fab fa-ideal"></i></span><!-- SPAN ICON --> <span for="equipId-edit" 
										class="valid-icon-hidden"></span><!-- SPAN VALIDATION --> <input
										type="text" autocomplete="off" disabled="true"
										name="equipId-edit" id="equipId-edit"
										placeholder="#{mapLabels.map_creation_input_equip_id}" /> <!-- INPUT -->							
								</div> <!---->                    
                             </div>  <!---->
                             
								<!-- EQUIPMENT ID -->
								
						   <!--  ******************************************************************************************************* -->

							<!-- DMS TYPE -->
							
							<div class="form-row dmsHidden-edit"> <!-- ROW -->	   
							<div class="form-group col-md-12 select-field"> <!-- SELECT DIV -->
								<span><i class="fas fa-th-list"></i></span><!-- SPAN ICON --> <span for="dmsType-edit"
									class="valid-icon-hidden"></span><!-- SPAN VALIDATION --> <select name="dmsType-edit"
									id="dmsType-edit" size="1" disabled="true" >									
									<option value="">#{mapLabels.map_creation_select_dms_type}</option>
									<ui:repeat var="tp" value="#{equipsBean.dmsType}"
										varStatus="tpStatus">
										<option value="#{tp.value}">#{tp.label}</option>
									</ui:repeat>
								</select> <!-- SELECT -->	
							</div> <!----> 
							<div class="error-label"><!-- ERROR DIV --></div> <!----> 
                            </div> <!----> 
                            
							<!-- DMS TYPE -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- DMS IP ADDRESS -->
							
                               <div class="form-row dmsHidden-edit"> <!-- ROW -->
								 <div class="form-group col-md-12 input-field "> <!-- INPUT DIV -->
									<span><i class="fas fa-signature"></i></span> <!-- SPAN ICON -->
										<input type="text" autocomplete="off"
										name="dmsIp-edit" id="dmsIp-edit"
										placeholder="#{mapLabels.map_dms_ip_address_place_holder}" /> <!-- INPUT -->									
								</div> <!----> 
								<div class="error-label"> <!-- ERRO DIV --> </div> <!----> 
							  </div> <!----> 
												
							<!-- ***** DMS IP ADDRESS ***** -->
							
							 <!--  ******************************************************************************************************* -->
														
							<!-- ***** EQUIPMENT NAME ***** -->
							
                               <div class="form-row"> <!-- ROW -->
								 <div class="form-group col-md-12 input-field"> <!-- INPUT DIV -->
									<span><i class="fas fa-signature"></i></span> <!-- SPAN ICON -->
									<span for="equipNameEdit" class="valid-icon-hidden"></span><!-- SPAN VALIDATION -->
										<input type="text" autocomplete="off"
										name="equipNameEdit" id="equipNameEdit"
										placeholder="#{mapLabels.map_creation_input_name}" /> <!-- INPUT -->									
								 </div>	<!----> 	
								   <div class="error-label"> <!-- ERROR DIV -->  
									  <label for="equipNameEdit" class="error" id="equipNameEdit-error"></label>
									</div> <!----> 			
							  </div> <!----> 
							  
							<!-- ***** EQUIPMENT NAME ***** -->
							
							 <!--  ******************************************************************************************************* -->

							<!-- ***** CITY ***** -->
							<div class="form-row"> <!-- ROW --> 
								<div class="form-group col-md-12 select-field">	 <!-- SELECT --> 								
										<span><i class="fas fa-city"></i></span> <!-- SPAN ICON -->											
											<select name="cities-edit" id="cities-edit" size="1">
											<option value="">#{mapLabels.map_creation_select_city}</option>
											<ui:repeat var="city" value="#{equipsBean.cities}" varStatus="cityStatus">
												<option value="#{city.value}">#{city.label}</option>
											</ui:repeat>
										</select> <!-- SELECT --> 									
								   </div>  <!----> 								
										<div class="error-label"> <!-- ERROR DIV -->  </div>  <!----> 								
							      </div>  <!----> 
							
								<!-- ***** CITY ***** -->
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** ROAD ***** -->

	                            <div class="form-row"> <!-- ROW --> 
								  <div class="form-group col-md-12 select-field"> <!-- SELECT DIV --> 										
										<span><i class="fas fa-road"></i></span> <!-- SPAN ICON --> 											
											<select name="roads-edit" id="roads-edit" size="1">
											<option value="">#{mapLabels.map_creation_select_road}</option>
											<ui:repeat var="road" value="#{equipsBean.roads}" varStatus="roadStatus">
												<option value="#{road.value}">#{road.label}</option>
											</ui:repeat>
										</select>  <!-- SELECT --> 	
									 </div>	<!----> 									
										<div class="error-label"> <!-- ERROR DIV --> </div>		
									</div>
										   
							<!-- ***** ROAD ***** -->
							
							 <!--  ******************************************************************************************************* -->
                            							  
							  <!-- ***** KM ***** -->
							  
							   <div class="form-row"> <!-- ROW --> 
								<div class="form-group col-md-6 input-field"> <!-- INPUT DIV --> 
									<span><i class="fas fa-sign"></i></span> <!-- SPAN ICON -->  
										<input type="text" autocomplete="off" name="km-edit" id="km-edit" maxlength="7" class="km"
										placeholder="#{mapLabels.map_creation_input_km}" /> <!-- INPUT -->
									<div class="error-label"> <!-- ERROR DIV --> </div> <!---->
								</div> <!---->							
														
								<div class="form-group col-md-6 input-field"> <!-- INPUT DIV -->
									<span><i class="fas fa-arrows-alt-h"></i></span> <!-- SPAN ICON --> 
										<input type="text" autocomplete="off" name="width-edit" id="width-edit" 
										placeholder="#{mapLabels.map_creation_input_width}" /> <!-- INPUT -->
									<div class="error-label"> <!-- ERROR DIV --> </div> <!---->
								</div> <!---->					
							</div> <!----> 	
							
							<!-- ***** KM ***** -->
							
							 <!--  ******************************************************************************************************* -->
																					
							<!-- ***** TRACKS ***** -->
														
							<div class="form-row satInputs-edit" style="display: none;"> <!-- ROW -->
								<div class="form-group col-md-12 select-field"> <!-- SELECT DIV -->
								<span><i class="fas fa-grip-lines"></i></span> <!-- SPAN ICON -->														
										<select name="lanes-edit" id="lanes-edit" size="1" style="width:100%;"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_select_lanes}</option>
											<ui:repeat var="lane" value="#{equipsBean.lanes}" varStatus="laneStatus">
												<option value="#{lane.value}">#{lane.label}</option>
											</ui:repeat>
										</select> <!---->   
									</div> <!----> 
									<div class="error-label"> <!-- ERROR-LABEL --> </div> <!----> 
								</div> <!----> 
                              
							<!-- ***** TRACKS ***** -->
							
							 <!--  ******************************************************************************************************* -->
								
							<!-- ***** DIRECTION LANES ***** -->	
							
							<div class="form-row satInputs-edit" style="display: none;"> <!-- ROW --> 

								<!-- ***** DIRECTION 1 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction1-edit" id="direction1-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir1}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** DIRECTION 2 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction2-edit" id="direction2-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir2}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->

								<!-- ***** DIRECTION 3 ***** -->

								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction3-edit" id="direction3-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir3}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
							
							<!-- ***** DIRECTION 4 ***** -->
							
								<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction4-edit" id="direction4-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir4}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 		
								
						      <!--  ******************************************************************************************************* -->		
							
						<!-- ***** DIRECTION 5 ***** -->
						
				         <div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction5-edit" id="direction5-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir5}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
							
							 <!-- ***** DIRECTION 6 ***** -->
						
							<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction6-edit" id="direction6-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir6}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
						     
						     <!-- ***** DIRECTION 7 ***** -->
						     
						  <div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction7-edit" id="direction7-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir7}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
								 <!--  ******************************************************************************************************* -->
								
							<!-- ***** DIRECTION 8 ***** -->	
							
						<div class="form-group col-md-3"> <!-- GROUP -->
									<div class="select-direction"> <!-- SELECT DIV -->	 							
										<select name="direction8-edit" id="direction8-edit" size="1"> <!-- SELECT -->
											<option value="">#{mapLabels.map_creation_dropdown_dir8}</option>
											<ui:repeat var="dir" value="#{equipsBean.dir}" varStatus="dirStatus">
												<option value="#{dir.value}">#{dir.label}</option>
											</ui:repeat>
										</select> <!----> 
									</div> <!----> 
									<div class="error-label"> <!-- ERROR DIV --> </div>
								</div> <!----> 
								
							</div> <!-- ROW LANES --> 						  
						</div> <!---->  
						
						 <!--  ******************************************************************************************************* -->
																
						<!-- ***** MODAL BUTTONS ***** -->

						<div class="modal-footer">						
						
						<h:inputHidden id="equipId1" value="#{equipsBean.equipId}" />		
						<h:inputHidden id="equipTable1" value="#{equipsBean.equipTable}" />					
							<h:commandButton 
								value="#{mapLabels.map_creation_btn_update_equipment}" 
								id="btn-form-send-edit" class="btn btn-dark form-modal-draw-button" onclick="sendType();" >
								<f:ajax execute="@all" render="@none" listener="#{equipsBean.UpdateEquipment}" />
							</h:commandButton>			 									
							
							<h:commandButton
								value="#{mapLabels.map_creation_btn_cancel_equipment}"
								id="btn-form-reset" immediate="true" type="reset"
								class="btn btn-dark form-modal-draw-button reset-btn-edit" data-dismiss="modal">								
							</h:commandButton>

						</div>				
				</h:form>
			</div>
		</div>
		
	    <!-- ************************************************************************************* -->
		<!-- ************************************* EDITION *************************************** -->
		<!-- ************************************************************************************* -->
		
		<!-- ************************************************************************************* -->
		<!-- ************************************* DELETE **************************************** -->
		<!-- ************************************************************************************* -->

		<div class="modal fade" id="deletemodal" role="dialog"> <!-- MODAL DELETE -->
			<div class="modal-dialog"> <!-- MODAL DIALOG -->
				<h:form class="modal-content" id="delete-equip-form"> <!-- MODAL CONTENT -->					
					<div class="modal-content"> <!-- MODAL CONTENT -->
						<div class="modal-header text-center"> <!-- MODAL HEADER -->
							<h4 class="modal-title w-100 font-weight-bold">#{mapLabels.map_option_modal_delete_title}</h4>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">&times;</span>
							</button>

						</div>
						<div class="modal-body"> <!-- MODAL BODY -->

                           <div class="row"> <!-- ROW -->
                           <div  class="col-12"> <!-- COLS -->
                           <span class="delete-message text-dark">  #{mapLabels.map_option_modal_delete_message}</span> 
                           <span id="del-equip-name" class="text-danger font-weight-bold"> </span> <span class="text-dark font-weight-bold">  ? </span> <!-- MESSAGE SPAN -->
                           </div> <!---->                                                 
                           </div><!----> 
                           						
						</div>

						<div class="modal-footer"> <!-- MODAL FOOTER -->
							<div class="form-row"> <!-- ROW -->
							
							    <!-- INPUT HIDDEN VALUES -->
								<h:inputHidden id="equipDel" value="#{equipsBean.equipId}"/>
								<h:inputHidden id="tableDel" value="#{equipsBean.equipTable}"/>
								
								<!-- DELETE BUTTON  -->
								<h:commandButton
									value="#{mapLabels.map_creation_btn_yes_equipment}"
									id="btn-form-delete-yes" class="btn btn-dark form-modal-draw-button"								
									onclick="deleteParameters();">
									<f:ajax execute="@all" render="@none" listener="#{equipsBean.DeleteEquipment}" />
								</h:commandButton> <!---->

                                 <!-- CANCEL BUTTON -->
								<h:commandButton value="#{mapLabels.map_creation_btn_no_equipment}"
									id="btn-form-delete-no" immediate="true" data-dismiss="modal"
									class="btn btn-dark form-modal-draw-button cancel" 
									onclick="$('#deletemodal').modal('hide');">
									<f:ajax execute="@form" render="@none"/>
								</h:commandButton> <!---->
							</div> <!---->
						</div> <!---->
					</div> <!---->
				</h:form>
			</div> <!---->
		</div> <!---->
		
	    <!-- ************************************************************************************* -->
		<!-- ************************************* DELETE **************************************** -->
		<!-- ************************************************************************************* -->
	
	</ui:define>	
	

	<ui:define name="jscript">
	
	<h:outputScript name="dmsAnimation.js?version=#{notificationsView.timestamp}" p:type="module" library="js/dms" />
		
		<!-- Mudana -->

		<script>
	
		/////////////////////////////
		//VALIDATION FORM
		////////////////////////////
		
		userInterfaceformValidation('#register-equip-form', '#{requiredMessages.required_user_interface_select_equipments}', '#{requiredMessages.required_user_interface_equip_id}',
				'#{validatorMessages.validator_number_message}', '#{validatorMessages.validator_global_maxlength}');
					
		//Validate elements on change value
	    //In this case check if the element is valid
	    validateOnChange('#equips');
	    validateOnChange('#equipId');	
	    validateOnChange('#equipName');	
	    
	    //Reset Fields on close modal
		resetFieldOnModalClose('#modaladd', 'equips');
		resetFieldOnModalClose('#modaladd', 'equipId');
		resetFieldOnModalClose('#modaladd', 'dmsType ');
		resetFieldOnModalClose('#modaladd', 'equipName ');
		resetFieldOnModalClose('#modaladd', 'roads');
		resetFieldOnModalClose('#modaladd', 'cities');
		resetFieldOnModalClose('#modaladd', 'km');
		resetFieldOnModalClose('#modaladd', 'lanes');
		resetFieldOnModalClose('#modaladd', 'direction1');
		resetFieldOnModalClose('#modaladd', 'direction2');
		resetFieldOnModalClose('#modaladd', 'direction3');
		resetFieldOnModalClose('#modaladd', 'direction4');
		resetFieldOnModalClose('#modaladd', 'direction5');
		resetFieldOnModalClose('#modaladd', 'direction6');
		resetFieldOnModalClose('#modaladd', 'direction7');
		resetFieldOnModalClose('#modaladd', 'direction8');
		 //Reset Fields on close modal
						
		//Remove validation icons
	    //click reset button action		 
	    removeValidationIcon("reset-btn", 'equips');
	    removeValidationIcon("reset-btn", 'equipId');
	    removeValidationIcon("reset-btn", 'equipName');
		    
	    //Clean Form validation on close modal
        cleanValidationOnModalClose("#register-equip-form", '#modaladd');
	    
        //Reset validation form
        //click reset button action
        resetFormValidation("#register-equip-form", "reset-btn");	
        resetFormValidation("#register-equip-form", "close-btn");
        
        //Dismiss modal function
	    $("#modaladd").on("hidden.bs.modal", function() {
	    	$('.satInputs').hide();				  
	      });
	    
	    //reset form function
	    $(".reset-btn").on("click", function() {	    		    
	    	$('.satInputs').hide();			  
		    $('#modaladd').modal('hide');
	      }); 	 
        
        //EQUIP EDITION
        
        userInterfaceEditformValidation('#edit-equip-form', '#{validatorMessages.validator_global_maxlength}');
					
		//Validate elements on change value
	    //In this case check if the element is valid	   
	    validateOnChange('#equipNameEdit');	   
	    
	    //Reset Fields on close modal
		resetFieldOnModalClose('#editmodal', 'equips-edit');
		resetFieldOnModalClose('#editmodal', 'equipId-edit');
		resetFieldOnModalClose('#editmodal', 'dmsType-edit');
		resetFieldOnModalClose('#editmodal', 'equipNameEdit');
		resetFieldOnModalClose('#editmodal', 'roads-edit');
		resetFieldOnModalClose('#editmodal', 'cities-edit');
		resetFieldOnModalClose('#editmodal', 'km-edit');
		resetFieldOnModalClose('#editmodal', 'lanes-edit');
		resetFieldOnModalClose('#editmodal', 'direction1-edit');
		resetFieldOnModalClose('#editmodal', 'direction2-edit');
		resetFieldOnModalClose('#editmodal', 'direction3-edit');
		resetFieldOnModalClose('#editmodal', 'direction4-edit');
		resetFieldOnModalClose('#editmodal', 'direction5-edit');
		resetFieldOnModalClose('#editmodal', 'direction6-edit');
		resetFieldOnModalClose('#editmodal', 'direction7-edit');
		resetFieldOnModalClose('#editmodal', 'direction8-edit');
		 //Reset Fields on close modal
						
		//Remove validation icons
	    //click reset button action	
	    removeValidationIcon("reset-btn-edit", 'equipNameEdit');
		    
	    //Clean Form validation on close modal
        cleanValidationOnModalClose("#edit-equip-form", '#editmodal');
	    
        //Reset validation form
        //click reset button action
        resetFormValidation("#edit-equip-form", "reset-btn-edit");	
        resetFormValidation("#edit-equip-form", "close-btn-edit");
          	    
	    //Dismiss modal function
	    $("#editmodal").on("hidden.bs.modal", function() {
	    	$('.satInputs-edit').hide();				  
	      });
	    
	    //reset form function
	    $(".reset-btn-edit").on("click", function() {	    		    
	    	$('.satInputs-edit').hide();			  
		    $('#editmodal').modal('hide');
	      }); 	 
	    		    
        /////////////////////////////
		//VALIDATION FORM
		////////////////////////////
	
			function borderEquip(id){
				var equipBorder = document.getElementById(id);
				equipBorder.style.border = "2px solid black"
				equipBorder.style.borderImage = "url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cstyle%3Epath%7Banimation:stroke 5s infinite linear%3B%7D%40keyframes stroke%7Bto%7Bstroke-dashoffset:776%3B%7D%7D%3C/style%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%232d3561' /%3E%3Cstop offset='25%25' stop-color='%23c05c7e' /%3E%3Cstop offset='50%25' stop-color='%23f3826f' /%3E%3Cstop offset='100%25' stop-color='%23ffb961' /%3E%3C/linearGradient%3E %3Cpath d='M1.5 1.5 l97 0l0 97l-97 0 l0 -97' stroke-linecap='square' stroke='url(%23g)' stroke-width='3' stroke-dasharray='388'/%3E %3C/svg%3E\") 1"
				setTimeout(function () {
					equipBorder.style.border = ""
					equipBorder.style.borderImage = ""
				}, 2500);
			}
        
        // *********************************************************** //
        
            //SAVE URL RESPONSE
               $(function() {
            	   
            	 //SAVE EQUIP				
   				let newIdMatch = RegExp(/newId=(\w+)/)
   				let saveMatch = RegExp(/save=(false)/)
   				
   				let getNewId = newIdMatch.exec(location.href)
   				let getSave = saveMatch.exec(location.href)	
									
				
				if (getNewId) {
					borderEquip(getNewId[1])
					alert('#equip-save');
				}								
				else if(getSave) 
					    if(getSave[1] == 'false')
					       alert('#equip-save-error');				 			
			})

			//SAVE URL RESPONSE
			
      // *********************************************************** //
      
        //UPDATE URL RESPONSE
               $(function() {
            	   
            	 //DELETE EQUIP				
   				let updatedIdMatch = RegExp(/updatedId=(\w+)/)
   				let updateMatch = RegExp(/update=(false)/)
   				
   				let getUpdatedId = updatedIdMatch.exec(location.href)
   				let getUpdate = updateMatch.exec(location.href)								
				
				if (getUpdatedId) {
					borderEquip(getUpdatedId[1])
					alert('#equip-update');
				}								
				else if(getUpdate) 
					    if(getUpdate[1] == 'false')
					       alert('#equip-update-error');				 			
			})

			//UPDATE URL RESPONSE
			
			   // *********************************************************** //
        
            //DELETE URL RESPONSE
               $(function() {
            	   
            	 //DELETE EQUIP				
   				let deletedIdMatch = RegExp(/deletedId=(\w+)/)
   				let deleteMatch = RegExp(/delete_=(false)/)
   				
   				let getDeletedId = deletedIdMatch.exec(location.href)
   				let getDelete = deleteMatch.exec(location.href)	
								
				if (getDeletedId) {					
					alert('#equip-delete');
				}								
				else if(getDelete) 
					    if(getDelete[1] == 'false')
					       alert('#equip-delete-error');				 			
			})

			//DELETE URL RESPONSE
			
      // *********************************************************** //

			function hiddenBtns() {
				document.getElementById("topButtons").style.display = "none";
			}

			function showBtns() {
				document.getElementById("topButtons").style.display = "block";
			}
			
			function hideEditDirections(){
				$('#direction3-edit').hide(); 
				$('#direction4-edit').hide(); 
				$('#direction5-edit').hide(); 
				$('#direction6-edit').hide(); 
				$('#direction7-edit').hide(); 
				$('#direction8-edit').hide();
			}

			function alert(a) {
				$('.map-options').css('display','none');
				$(a).css("display", "block");				
				setTimeout(function () {
					$(a).fadeOut('fast');
					$('.map-options').css('display','block');
				}, 2000);
				hiddenPosition();				
			}

			function hiddenPosition() {
				document.getElementById("real:savePos").style.display = "none";
				document.getElementById("real:cancelPos").style.display = "none";
				posReset();
				showBtns();			
			}
			
			//VARS
			var id, type, toDrag;

			function sendToBean() {

				document.getElementById('form-modal-submit:equipCod').value = id;
				document.getElementById('form-modal-submit:equipTable').value = type;

			}

			function sendToBeanDel() {

				document.getElementById('delete-equip-form:del-equip-name').innerText = type + id;
			}

			function sendType() {
				document.getElementById('edit-equip-form:equipId1').value = id;
				document.getElementById('edit-equip-form:equipTable1').value = type;
			}

			function deleteParameters() {
				document.getElementById('delete-equip-form:equipDel').value = id;
				document.getElementById('delete-equip-form:tableDel').value = type;
			}
			
			function deleteInfo() {
				document.getElementById('delete-equip-form:equipIdDel').value = id;
				document.getElementById('delete-equip-form:equipTableDel').value = type;
			}
		
			/////////////MAP/GRID HIDE AND SHOW

			$("#cancelPos").click(function () {
				$("#savePos").hide();
				$("#cancelPos").hide();
			});
		
			$(".btn-pos").click(function () {
				$(".save_pos").show();
				$(".cancel_pos").show();			
			});

			$(".add_equip").click(function () {
				$(".save_pos").hide();
				$(".cancel_pos").hide();
			});

			///MAP/GRID HIDE AND SHOW END						
					
			//ZOOM EVENT
			document.getElementById("zoomIn").addEventListener("click",
				function () {
					zoomIn($('section.overflow'))
				}, false);
			document.getElementById("zoomOut").addEventListener("click",
				function () {
					zoomOut($('section.overflow'))
				}, false);

			//ZOOM EVENT

			//SAT LANES INPUTS

			document.getElementById("equips").addEventListener("click",
				function () {			
					var equipsSEL = document.getElementById("equips");
					var selectVAL = equipsSEL.options[equips.selectedIndex].value;
					if (selectVAL == 9) {
						$('.satInputs').show(); // DIV FAIXAS 1	
						$('.dmsHidden').hide();
						$("#lanes").change(
							function () {
								var satLanes = document.getElementById("lanes");
								var selectSAT = satLanes.value;
								if (selectSAT == 2) {
									$('#direction3').hide();
									$('#direction4').hide();
									$('#direction5').hide();
									$('#direction6').hide();
									$('#direction7').hide();
									$('#direction8').hide();
								} else if (selectSAT == 3) {
									$('#direction3').show();
									$('#direction4').hide();
									$('#direction5').hide();
									$('#direction6').hide();
									$('#direction7').hide();
									$('#direction8').hide();
								} else if (selectSAT == 4) {
									$('#direction3').show();
									$('#direction4').show();
									$('#direction5').hide();
									$('#direction6').hide();
									$('#direction7').hide();
									$('#direction8').hide();
								} else if (selectSAT == 5) {
									$('#direction3').show();
									$('#direction4').show();
									$('#direction5').show();
									$('#direction6').hide();
									$('#direction7').hide();
									$('#direction8').hide();
								} else if (selectSAT == 6) {
									$('#direction3').show();
									$('#direction4').show();
									$('#direction5').show();
									$('#direction6').show();
									$('#direction7').hide();
									$('#direction8').hide();
								} else if (selectSAT == 7) {
									$('#direction3').show();
									$('#direction4').show();
									$('#direction5').show();
									$('#direction6').show();
									$('#direction7').show();
									$('#direction8').hide();
								} else if (selectSAT == 8) {
									$('#direction3').show();
									$('#direction4').show();
									$('#direction5').show();
									$('#direction6').show();
									$('#direction7').show();
									$('#direction8').show();
								}
							});
					} else if (selectVAL == 8) {							
										  
						    $('.dmsHidden').show(); // DIV DMS TYPE	
						    $('.satInputs').hide(); 
							
					} else {
						
						 $('.dmsHidden').hide();	
						 $('.satInputs').hide(); 
					}
					
				});

			
				// MODAL EQUIPMENT SIZE
			$(".dprbtn").click(
					function () {
						var url = $('.draggable').find(
							"[id^=" + $(this).attr('from')
							+ "] img").attr("src")
							|| "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";
						let modal = $("#sizeeqps")
						modal.find("img").attr("src", url);
						modal.find("#bar-size").attr("from",
							"." + $(this).attr('from'))
					});
			// MODAL EQUIPMENT SIZE END
			
			  $('#km').mask('000+000'); 	// KM MASK	
			  $('#km-edit').mask('000+000'); 	// KM MASK				
						  
		</script>
	</ui:define>

</ui:composition>
