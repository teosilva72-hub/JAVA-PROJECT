<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf" 
	xmlns:pf="http://primefaces.org/ui"
	template="/template/dashboard-rov-layout.xhtml">
	
	<f:metadata>	

	<f:viewParam id="act1" name="equip" value="#{vsPanelBean.station}" /> 
		          
    </f:metadata>
	
	<ui:define name="head" >
	
	<h:outputStylesheet name="mto_panel.css" library="css/mto" />
	<h:outputScript name="mto-panel.js" library="js/validation-forms/mto" />
	
	<script>
	
	$(function() {
		setTimeout(function () {
			$('#message-div').hide(); 		
		}, 5000); 
	});
		
	</script>

	</ui:define>
	
	 <ui:define name="main-content" >
	 
	  <!-- Mensagem parte superior -->
	    <div id="message-div" >
			<pf:messages id="msgs" showDetail="true" autoUpdate="true" closable="true" />
		</div>
	 
	 	 <!-- Inicio da estrutura do conteudo -->
	 	
			<div class="jumbotron jumbotron-fluid">
			<h:form id="panel">
				<div class="barraBusca">
					<div class="row line">
						<!-- Inicio barra de pesquisa -->
							<div class="col-sm">
								<div class="select-field">																
									<span><i class="fas fa-hdd"></i></span>	
									<span for="equip"
										class="valid-icon-hidden"></span> 							    					    
									<select name="equip" id="equip">	
									  <option value="" >#{vsLabels.vs_reports_select_station}</option>																	      
										<ui:repeat var="eqp"  value="#{vsPanelBean.equipments}"  varStatus="eqpStatus" >
											<option value="#{eqp.value}" > #{eqp.label} </option>	                                  
		                                </ui:repeat> 
		                            </select>										    							   														
								</div>
								<div class="error-label"><label for="equip" class="error" id="equip-error"></label></div>
							</div>
							<!-- Final barra de pesquisa -->
							<!-- Botão barra de pesquisa -->
							<div class="col-2">	     
								<h:commandButton id="btn-search-tab" class="btn btn-dark btnConf" value="#{vsLabels.vs_reports_btn_search}"
								action="#{vsPanelBean.GetPanelInformation}" />	
								    		
							</div>
						<!-- Final do botão barra de pesquisa -->
						<!-- Inicio da barra de informação -->
						<div class="col-sm">	     
							<div class="alert alert-dark" role="alert">
							 	<h:outputLabel id="stat" class="stationName" value="#{vsPanelBean.station_name}" />
							</div>
						</div>
						<!-- Final barra de informação -->
					</div>
				</div>						
							
				<br/> <br/>	
						
				<div class="cardContainer">	
		  			<!-- Inicio da primeira grid-->
					<div class="row line">
				      		 <!-- Inicio do card 2-->
				     		<div class="card card-temp">
								<div class="card-body temperatura-rsv">
									<div>
										<h:outputLabel value="#{vsLabels.vs_panel_station_ambient_temperature}" />
										<h1>#{vsPanelBean.panel.ambient_temperature}°C</h1>									
									</div>
								</div>
							</div>
					
				    	<div class="col-sm col-lg col-xl">
				     		 <!-- Inicio do card 8 -->
				     		<div class="card card-vis visibilidade-rsv maxHeight">
								<div class="card-body">
									<h:outputLabel value="#{vsLabels.vs_panel_station_visibility}" />
									<h1>#{vsPanelBean.panel.visibility}</h1>
								</div>
							</div>
							<!-- Final do card 8 -->
				    	</div>
				    	<div class="col-sm col-lg col-xl">
				      		<!-- Inicio do card 9 -->
				     		<div class="card card-ene energia-rsv">
								<div class="card-body">
									<div class=" ">												
										<h5 class=""><h:outputLabel value="#{vsLabels.vs_panel_station_status} : " />
											<label id="status" ></label> <!-- JSF LABEL NOT WORK HERE -->
											<h:inputHidden id="hidden" value="#{vsPanelBean.panel.status}" />
						 				</h5>						 				
										<h5 class="status-volts">#{vsLabels.vs_panel_station_line_volts} : #{vsPanelBean.panel.line_volts}</h5>
										<h5 class="status-battery">#{vsLabels.vs_panel_station_battery} : #{vsPanelBean.panel.battery}</h5>
								
									</div>
								</div>
							</div>
							<!-- Final do card 9 -->
				    	</div>
				  	</div>
				  	<!-- Final da terceira grid -->
				</div>
			  </h:form>
			</div>
			<!-- Final da estrutura do conteudo --> 
							
		<!-- CHANGE STATUSSS -->
		
	<script type='text/javascript'>
			
		checkMtoStatus();		
		weatherStationValidation("#panel", '#{requiredMessages.required_mto_reports_select_equipments}');
				
		//Validate on change value
		validateOnChange('#equip');
						
		</script>
		
		<!-- CHANGE STATUSSS -->
	 
	 </ui:define>	
</ui:composition>	