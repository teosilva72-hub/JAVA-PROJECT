<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:pf="http://primefaces.org/ui">

<f:view locale="#{language.locale}">

	<h:head>
		<meta http-equiv="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<h:outputStylesheet name="bootstrap.min.css" library="bootstrap/css" />
		<h:outputStylesheet name="fontawesome.min.css"
			library="font-awesome/css" />
		<h:outputStylesheet name="login.css" library="css/login" />

		<script type="text/javascript">
			//Método para validação do Email
			jQuery.validator.addMethod("mail", function(value, element) { 
			    var email = $('#email').val();	    
			    var regex = new RegExp(/^[A-Za-z0-9_\-\.]+@[A-Za-z0-9_\-\.]{2,}\.[A-Za-z0-9]{3,}(\.[A-Za-z0-9])?/); 
			    if(email.match(regex)) {  $('#email').removeClass('invalid').addClass('valid'); return true; }
			    else     
			    	$('#email').removeClass('valid').addClass('invalid');
				    $('#email-error').parent().find('.error').fadeIn(500);	     
			          return false;	 
			}, "#{validatorMessages.validator_reset_password_email_invalid}");
  			$(document).ready(function(){
				$('#form-reset').validate({
					rules:{
						email:{
							required: true,	
							mail: true,
							minlength: 4,
							maxlength: 80
						}			   
	    			}
				});	
	
  			});	
  
 		 </script>
		<title>#{loginLabels.login_forget_title}</title>
	</h:head>
	<h:body>

		<!-- Inicio da estrutura do site -->
		<div class="jumbotron">
			<div class="container">
				<div id="message-show">
					<pf:messages id="msgs" showDetail="true" autoUpdate="true"
						closable="true" />
				</div>

				<h:form prependId="false" id="form-reset">
					<div class="row estrutura">
						<!-- Inicio do lado direito da tela de logo -->
						<div class="col-sm">
							<div class="card ladoDireito">
								<div class="card-body  imgLogo esconder">
									<h:outputLabel
										p:value="#{loginLabels.login_auth_label_version} 1.0"
										id="version" />
								</div>
							</div>
						</div>
						<!-- Final do lado direito da tela de logilogon -->
						<!-- Inicio do lado esquerdo da tela de recuperar senha -->
						<div class="col-sm">
							<div class="card ladoEsquerdo">
								<div class="card-body">
									<div class="container">

										<!-- Inicio do input recuperar senha -->
										<div class="row">
											<div class="col-12">
												<h4 class="mb-3 text-center">#{loginLabels.login_forget_title}</h4>
											</div>
											<div class="col-12">
												<p class="mb-3 reset-information texte-center">#{loginLabels.login_forget_label_description}</p>
											</div>
											<div class="col-12 estruturaLogin">
												<span class="iconeSpan"><i class="fa fa-user"></i></span>
												<h:inputText class="form-control form-login" id="email"
													autocomplete="off" p:type="email"
													value="#{loginAccount.user.email}"
													p:placeholder="#{loginLabels.login_forget_input_placeholder}" />
												<label for="username" class="error" id="username-error"></label>
											</div>
											
											<div class="col-12">
												<h:commandButton class="button btn btn-send"
													value="#{loginLabels.login_forget_btn_send}"
													action="#{loginAccount.passwordRecovery}" />
											</div>
											<div class="col-12">
												<div class="reset-confirmation d-done">

													<div class="back-to-login-link text-center">
														#{loginLabels.login_forget_label_back_login} <a
															href="login.xhtml" class="login-link">#{loginLabels.login_forget_link_back_login}</a>
													</div>
												</div>
											</div>
										</div>
										<!-- final input recuperar senha -->
									</div>
								</div>
								<!-- Final do lado esquerdo da tela do site -->
							</div>
						</div>

					</div>
					<h:outputScript name="popper.min.js" library="js/popper" />
					<h:outputScript name="bootstrap.bundle.min.js"
						library="bootstrap/js" />
					<h:outputScript name="all.min.js" library="font-awesome/js" />
				</h:form>
				<div class="trademark">
					<div class="col-12">
						<h:outputLabel class="tracevia" p:value="©2020 Tracevia"
							id="trademark" />
					</div>
				</div>
			</div>
		</div>


		<h:outputScript name="jquery-3.5.1.min.js" library="js/jquery" />
		<h:outputScript name="popper.min.js" library="js/popper" />
		<h:outputScript name="bootstrap.bundle.min.js" library="bootstrap/js" />
		<h:outputScript name="all.min.js" library="font-awesome/js" />

	</h:body>
</f:view>
</html>