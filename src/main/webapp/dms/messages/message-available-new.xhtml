<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui"
	template="/template/dashboard-rov-layout.xhtml">

	<ui:define name="default-stylesheet">
		<h:outputStylesheet name="bootstrap-5.min.css" library="bootstrap/css" />
		<h:outputStylesheet library="css/pmv/available" name="message-available.css" />
	</ui:define>

	<ui:define name="default-jquery">

	</ui:define>

	<ui:define name="default-content">
		<!--Inicio da animação  -->

		<!-- Final da animação -->
		<div class="jumbotron bg-dark px-3">
			<!-- TABLE MESSAGES -->
			<h:form id="message-display">
				<div id="show">
					<p:messages id="msgs" showDetail="true" autoUpdate="true" closable="true" />
				</div>
			</h:form>
			<div class="row flex-row-reverse">
				<!-- MESSAGE CONTENT BOX -->
				<div class="boardDetails shadow col-4">
					<!--  PMV BOARD -->
					<div class="pmv-board card border-dark">
						<div class="card-header pmv">
							<h5 class="message-title-div ">#{dmsLabels.dms_available_messages_preview_title}</h5>
						</div>
						<h:form id="content-form">

							<!-- PAGINATORS -->
							<div class="card-body position-relative responsive">
								<div id="page-pmv">
									<c:forEach begin="1" end="5" varStatus="index">

										<div id="#{item.table_id}#{item.equip_id}"
											class="equip-info equip#{index.index} #{item.table_id} mt-3">

											<!-- Table with DIV -->

											<div class="container tableStyle card">
												<div class="dms-name card-header py-0">
													<div class="text-center dmsTab#{item.equip_id}">
														<p class="mb-0 text-white">#{pmvMessage.nome}</p>
													</div>
												</div>
												<div class="row text-center card-body p-0">
													<div id="child-img" class="col-2 padding-pmv">
														<h:graphicImage
															value="/resources/images/pictures/#{pmvMessage.image}"
															styleClass="ui-graphic-image picture-box" />
													</div>
													<div id="child-msg" class="col-auto msg-pos">
														<div id="msg#{index.index}" class="table-message">
															<div class="row border-table-right">
																<div class="col-1 px-0 border-table">
																	<span id="box-1"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-2"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-3"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-4"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-5"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-6"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-7"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-8"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-9"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-10"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-11"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-12"></span>
																</div>
															</div>
															<div class="row border-table-right">
																<div class="col-1 px-0 border-table">
																	<span id="box-13"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-14"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-15"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-16"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-17"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-18"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-19"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-20"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-21"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-22"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-23"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-24"></span>
																</div>
															</div>
															<div class="row border-table-right bottom">
																<div class="col-1 px-0 border-table">
																	<span id="box-25"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-26"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-27"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-28"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-29"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-30"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-31"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-32"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-33"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-34"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-35"></span>
																</div>
																<div class="col-1 px-0 border-table">
																	<span id="box-36"></span>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>

										</div>
									</c:forEach>
								</div>

								<div class="edit-pmv-page">
									<!-- TIMERS -->
									<div class="row">

										<div class="col-2 me-1 ps-0">
											<div class="input-group mb-3 bar-width">
												<!-- Checkbox -->
												<div class="input-group-text">
													<input id="timerCheck1" class="form-check-input mt-0" type="checkbox" value="1"
														aria-label="Checkbox for timer1" disabled="disabled" />
												</div>
												<!-- Timer -->
												<input id="timerPage1" type="text" class="form-control form-control-sm text-timer"
													aria-label="timer1" title="Timer 1" placeholder="0"
													disabled="disabled" />
												<!-- Button -->
												<input class="btn-check" name="btn-pages" id="btn-page1" type="radio"
													value="1" checked="checked" />
												<label class="btn btn-dark py-0 px-2 page-button"
													for="btn-page1">1</label>
											</div>
										</div>
										<div class="col-2 ms-2 me-1 ps-0">
											<div class="input-group mb-3 bar-width">
												<!-- Checkbox -->
												<div class="input-group-text">
													<input id="timerCheck2" class="form-check-input mt-0" type="checkbox" value="2"
														aria-label="Checkbox for timer2" disabled="disabled" />
												</div>
												<!-- Timer -->
												<input id="timerPage2" type="text" class="form-control form-control-sm text-timer"
													aria-label="timer2" title="Timer 2" placeholder="0"
													disabled="disabled" />
												<!-- Button -->
												<input class="btn-check" name="btn-pages" id="btn-page2" type="radio"
													value="2" />
												<label class="btn btn-dark py-0 px-2 page-button"
													for="btn-page2">2</label>
											</div>
										</div>
										<div class="col-2 ms-2 me-1 ps-0">
											<div class="input-group mb-3 bar-width">
												<!-- Checkbox -->
												<div class="input-group-text">
													<input id="timerCheck3" class="form-check-input mt-0" type="checkbox" value="3"
														aria-label="Checkbox for timer3" disabled="disabled" />
												</div>
												<!-- Timer -->
												<input id="timerPage3" type="text" class="form-control form-control-sm text-timer"
													aria-label="timer3" title="Timer 3" placeholder="0"
													disabled="disabled" />
												<!-- Button -->
												<input class="btn-check" name="btn-pages" id="btn-page3" type="radio"
													value="3" />
												<label class="btn btn-dark py-0 px-2 page-button"
													for="btn-page3">3</label>
											</div>
										</div>
										<div class="col-2 ms-2 me-1 ps-0">
											<div class="input-group mb-3 bar-width">
												<!-- Checkbox -->
												<div class="input-group-text">
													<input id="timerCheck4" class="form-check-input mt-0" type="checkbox" value="4"
														aria-label="Checkbox for timer4" disabled="disabled" />
												</div>
												<!-- Timer -->
												<input id="timerPage4" type="text" class="form-control form-control-sm text-timer"
													aria-label="timer4" title="Timer 4" placeholder="0"
													disabled="disabled" />
												<!-- Button -->
												<input class="btn-check" name="btn-pages" id="btn-page4" type="radio"
													value="4" />
												<label class="btn btn-dark py-0 px-2 page-button"
													for="btn-page4">4</label>
											</div>
										</div>
										<div class="col-2 ms-2 me-1 ps-0">
											<div class="input-group mb-3 bar-width">
												<!-- Checkbox -->
												<div class="input-group-text">
													<input id="timerCheck5" class="form-check-input mt-0" type="checkbox" value="5"
														aria-label="Checkbox for timer5" disabled="disabled" />
												</div>
												<!-- Timer -->
												<input id="timerPage5" type="text" class="form-control form-control-sm text-timer"
													aria-label="timer5" title="Timer 5" placeholder="0"
													disabled="disabled" />
												<!-- Button -->
												<input class="btn-check" name="btn-pages" id="btn-page5" type="radio"
													value="5" />
												<label class="btn btn-dark py-0 px-2 page-button"
													for="btn-page5">5</label>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<!-- id input -->
									<div class="col-3">
										<div id="image-div">
											<h:commandLink id="link-image" disabled="#{pmvMessage.inputs}"
												action="#{pmvMessage.imageState}">
												<i class="fas fa-image fa-3x confIcone" data-bs-toggle="tooltip"
													data-bs-placement="top" title="Adicionar Icone"></i>
												<f:ajax execute="@form" render=":picture-id" />
											</h:commandLink>
										</div>
										<div id="list-images">
											<p:selectOneListbox id="picture-id" value="#{pmvMessage.picture}"
												effect="fade" var="p" filter="false" class="listbox"
												filterMatchMode="startsWith" onclick="returnDIV(); bloquerTable();">
												<f:converter converterId="pictureConverter" />
												<f:selectItems value="#{pmvMessage.pictures}" var="picture"
													itemLabel="#{picture.image}" itemValue="#{picture}" />
												<p:ajax event="change" listener="#{pmvMessage.loadPictureImage}" />
												<p:column>
													<h:graphicImage value="/resources/images/pictures/#{p.image}"
														width="60" height="60" />
												</p:column>
											</p:selectOneListbox>
										</div>
									</div>
									<div class="edit-field row col-9 my-5">
										<div class="position-absolute">

											<div class="col-12 confInput">
												<div id="id-div">
													<span class="iconeSpan"><i class="fas fa-key"></i></span>
													<div class="input-group">

														<h:inputText id="id-input" class="form-control inputDesign id"
															value="#{pmvMessage.idMessage}" disabled="true"
															pt:type="text" name="id"
															pt:placeholder="#{dmsLabels.dms_available_messages_id_placeholder}" />
													</div>
												</div>
											</div>
											<!-- end id input -->
											<!-- Type Select -->
											<div class="col-12 confInput">
												<div id="id-div">
													<span class="iconeSpan"><i class="fas fa-th-large"></i></span>
													<div class="input-group">
														<h:selectOneMenu class="form-control selectType"
															disabled="#{pmvMessage.inputs}" value="#{pmvMessage.tipo}"
															id="tipo" name="tipo">
															<f:selectItem itemLabel="Type" itemValue="Type" />
															<f:selectItems value="#{pmvMessage.type}" />
														</h:selectOneMenu>
													</div>
												</div>
											</div>
											<!-- End Type Select -->
											<!-- input name -->
											<div class="col-12 confInput">
												<div id="name-div">
													<span class="iconeSpan"><i class="fas fa-file-signature"></i></span>
													<div class="input-group">
														<h:inputText id="name-input"
															class="form-control name inputDesign" pt:type="text"
															name="name"
															pt:placeholder="#{dmsLabels.dms_available_messages_name_placeholder}"
															value="#{pmvMessage.nome}" disabled="#{pmvMessage.inputs}"
															maxlength="15" pt:autocomplete="off" />
													</div>
												</div>

											</div>
											<!-- end input name -->

										</div>
										<div class="position-absolute text-creation">

											<!-- message input -->
											<div class="col-12 confInput">
												<div id="input-message-1">
													<span class="iconeSpan"><i class="fas fa-keyboard"></i></span>
													<div class="input-group">

														<h:inputText id="message-box1"
															class="form-control message-input inputDesign"
															maxlength="12" autoResize="false" resizable="false"
															disabled="#{pmvMessage.inputs}"
															value="#{pmvMessage.message1}" pt:type="text"
															name="message-1"
															pt:placeholder="#{dmsLabels.dms_available_messages_msg1_placeholder}"
															pt:autocomplete="off">
															<p:ajax event="keyup" update="box-1, box-2, box-3, box-4, box-5,
						box-6, box-7, box-8, box-9, box-10, box-11, box-12" listener="#{pmvMessage.messageRowOne}" />
														</h:inputText>
													</div>
												</div>
											</div>
											<!-- end message input -->
											<div class="col-12 confInput">
												<div id="input-message-2">
													<span class="iconeSpan"><i class="fas fa-keyboard"></i></span>
													<div class="input-group">

														<h:inputText id="message-box2"
															class="form-control message-input inputDesign"
															maxlength="12" autoResize="false" resizable="false"
															disabled="#{pmvMessage.inputs}"
															value="#{pmvMessage.message2}" pt:type="text"
															name="message-2"
															pt:placeholder="#{dmsLabels.dms_available_messages_msg2_placeholder}"
															pt:autocomplete="off">
															<p:ajax event="keyup" update="box-13, box-14, box-15, box-16, box-17,
						box-18, box-19, box-20, box-21, box-22, box-23, box-24" listener="#{pmvMessage.messageRowTwo}" />
														</h:inputText>
													</div>
												</div>
											</div>
											<div class="col-12 confInput">
												<div id="input-message-3">
													<span class="iconeSpan"><i class="fas fa-keyboard"></i></span>
													<div class="input-group">

														<h:inputText id="message-box3"
															class="form-control message-input inputDesign"
															maxlength="12" autoResize="false" resizable="false"
															disabled="#{pmvMessage.inputs}"
															value="#{pmvMessage.message3}" pt:type="text"
															name="message-3"
															pt:placeholder="#{dmsLabels.dms_available_messages_msg3_placeholder}"
															pt:autocomplete="off">
															<p:ajax event="keyup" update="box-25, box-26, box-27, box-28, box-29,
							box-30, box-31, box-32, box-33, box-34, box-35, box-36" listener="#{pmvMessage.messageRowThree}" />
														</h:inputText>
													</div>
												</div>
											</div>
										</div>
									</div>


								</div>
								<!-- Painel real -->
								<!-- Final do painel real -->
							</div>
							<div class="btn-painel card-footer pt-0 row row-cols-2">
								<!-- button submit -->

								<div id="col">
									<h:commandButton value="#{dmsLabels.dms_available_messages_btn_save}" id="btnCr1"
										action="#{pmvMessage.messageActions}" disabled="#{pmvMessage.submit}"
										class="btn btn-dark confBtn">
									</h:commandButton>
								</div>
								<!-- button clear -->
								<div id="col">
									<h:commandButton value="#{dmsLabels.dms_available_messages_btn_cancel}"
										action="#{pmvMessage.cleanSelection}" id="btnCr2"
										class="btn btn-dark confBtn conf2Btn" process="@this"
										disabled="#{pmvMessage.submit}"
										onclick="showID(); returnDIV(); PF('bui').hide()">
										<f:ajax render="@form" resetValues="true" />
									</h:commandButton>
								</div>
							</div>

						</h:form>
					</div>
				</div>
				<div class="col-8 tabelaDetails">

					<div class="table-responsive-sm">
						<h:form id="btn-form">
							<div class="btnEstruta">
								<div id="table-create">
									<h:commandButton value="#{dmsLabels.dms_available_messages_btn_create}"
										id="btnCreate" action="#{pmvMessage.createMessage}" onclick="bloquerTable();"
										disabled="#{pmvMessage.create}" class="btn btn-available">
										<f:ajax execute="@form" render=":content-form :btn-form" />
									</h:commandButton>
								</div>
								<div id="table-edit">
									<h:commandButton value="#{dmsLabels.dms_available_messages_btn_edit}" id="btnEdit"
										action="#{pmvMessage.editMessage}" onclick="bloquerTable();"
										disabled="#{pmvMessage.editable}" class="btn btn-available">
										<f:ajax execute="@form" render=":content-form :btn-form" />
									</h:commandButton>
								</div>
								<div id="table-delete">
									<h:commandButton value="#{dmsLabels.dms_available_messages_btn_delete}"
										id="btnDelete" disabled="#{pmvMessage.delete}" class="btn btn-available"
										immediate="true">
										<f:passThroughAttribute name="data-toggle" value="modal" />
										<f:passThroughAttribute name="data-target" value="#deleteModal" />
										<f:ajax execute="@form" render="@none" />
									</h:commandButton>
								</div>
							</div>
						</h:form>
						<!-- Tabela real -->
						<div id="tabelaReal">
							<h:dataTable id="message-table" value="#{pmvMessage.messages_enumeration}" var="msg"
								styleClass="table table-sm table-striped table-hover table-dark custom-table"
								cellspacing="0" width="100%" headerClass="custom-table-header"
								rowClasses="custom-table-odd-row, custom-table-even-row"
								columnClasses="idColumn, typeColumn, nameColumn, imageColumn, textColumn, actionColumn">
								<h:column>
									<f:facet name="header">#{dmsLabels.dms_available_messages_table_col_id}</f:facet>
									<h:outputText value="#{msg.value.id_message}" />
								</h:column>
								<c:forEach items="#{pmvMessage.messages.get(msg.key).pages}" var="page"
									varStatus="index">
									<h:column pt:class="pageTable#{index.index + 1}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_messages_table_col_type}
										</f:facet>
										<h:outputText value="#{(pmvMessage.translateType(page.tipo))}" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_messages_table_col_name}
										</f:facet>
										<h:outputText value="#{page.nome}" class="tablePageName" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_messages_table_col_image}
										</f:facet>
										<h:graphicImage id="picture-table#{index.index + 1}"
											value="/resources/images/pictures/#{page.image}" width="25" height="25" />
										<h:inputHidden value="#{page.id_image}" id="hiddenField" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1} msgPage1" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_lines_line1}
										</f:facet>
										<h:outputText value="#{page.text1}" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_lines_line2}
										</f:facet>
										<h:outputText value="#{page.text2}" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											#{dmsLabels.dms_available_lines_line3}
										</f:facet>
										<h:outputText value="#{page.text3}" />
									</h:column>
									<h:column pt:class="pageTable#{index.index + 1}" pt:originPager="#{page.page}" pt:active="#{page.contain}" pt:timer="#{page.timer}">
										<f:facet rendered="#{index.first}" name="header">
											pg
										</f:facet>
										<h:outputText value="#{index.index + 1}" />
									</h:column>
								</c:forEach>
							</h:dataTable>
						</div>
						<h:form id="formId">
							<h:inputHidden id="idMessage" value="#{pmvMessage.rowKey}" />
							<h:inputHidden id="checked" value="#{pmvMessage.selectedRow}" />
							<h:commandButton id="hdnBtn" value="TESTE" onclick=" getMessageId();"
								actionListener="#{pmvMessage.getRowValue}" style="display:none;">
								<f:ajax execute="@form" render=":btn-form" />
							</h:commandButton>
						</h:form>
					</div>
				</div>
			</div>
			<!-- DELETE DIALOG -->
			<h:form id="dialog-form">
				<div class="modal" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
					aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title">#{dmsLabels.user_delete_modal_title}</h5>
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
							<div class="modal-body">
								<p>
									#{dmsLabels.user_delete_modal_body} <span id="selectedId"></span>
									?
								</p>
							</div>
							<div class="modal-footer">
								<div class="4submit-modal">
									<h:commandButton value="#{dmsLabels.user_delete_modal_btn_yes}"
										styleClass="btn btn-dark" action="#{pmvMessage.deleteRegister}"
										oncomplete="dialogHide();" />
								</div>
								<div class="cancel-modal">
									<button type="button" class="btn btn-dark"
										data-dismiss="modal">#{dmsLabels.user_delete_modal_btn_no}</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</div>
	</ui:define>

	<ui:define name="default-plugins">
		<h:outputScript name="bootstrap-5.bundle.min.js" library="bootstrap/js" />
		<h:outputScript name="jquery.dataTables.min.js" library="js/datatables" />
	</ui:define>

	<ui:define name="jscript">
		<h:outputScript name="msg-available.js" library="js/dms" />
	</ui:define>

</ui:composition>