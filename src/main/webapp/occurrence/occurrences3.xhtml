<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://jcp.org/ui"
	template="/template/dashboard-rov-layout.xhtml">

	<ui:define name="loading"></ui:define>

	<ui:define name="head">
		<title>#{abaLabels.occurrences}</title>
		<!-- Style -->
		<h:outputStylesheet library="css/datatables/custom"
			name="table-style.css" />
		<h:outputStylesheet library="css/occ" name="occurrences.css" />
		<h:outputStylesheet library="css/global" name="global.css" />
		<h:outputStylesheet name="datepicker.css" library="css/datepicker" />
		<h:outputStylesheet library="css/commom" name="commons.css" />
		<h:outputStylesheet library="css/forms" name="form-style.css" />

		<script type="text/javascript">
			$(document)
					.ready(
							function() {
								$('#form-cadastro')
										.validate(
												{
													rules : {
														tipoEvento : {
															required : true
														},

														dataInicial : {
															required : true
														},
														horaInicial : {
															required : true
														},
														minutoInicial : {
															required : true
														},
														causaProvavel : {
															required : true
														},
														situacaoEvento : {
															required : true
														},
														eventoKm : {
															minlength : 1,
															maxlength : 7
														},
														descricaoCausa : {
															minlength : 1,
															maxlength : 1000
														},
														outrosEventos : {
															minlength : 3,
															maxlength : 50
														},
														tituloDescr : {
															minlength : 4,
															maxlength : 50
														},
														descricaoCausa2 : {
															minlength : 4,
															maxlength : 1000
														},
														descrDescr : {
															minlength : 4,
															maxlength : 1000
														},
														envolvDescr2 : {
															minlength : 4,
															maxlength : 1000
														},
														envolvDescr : {
															minlength : 4,
															maxlength : 1000
														},
														trasitoExtKm : {
															minlength : 1,
															maxlength : 7
														},
														danoDescr : {
															minlength : 4,
															maxlength : 1000
														},
														acaoDescr : {
															minlength : 4,
															maxlength : 1000
														},
														/*new inputs*/
														damageAmount : {
															minlength : 1,
															maxlength : 10
														},
														acaoDescrOtro : {
															minlength : 4,
															maxlength : 50
														},
														danoDescr2 : {
															minlength : 4,
															maxlength : 1000
														},
														envolvDescr2 : {
															minlength : 4,
															maxlength : 1000
														},
														descrDescr1 : {
															minlength : 4,
															maxlength : 1000
														},
														descricaoCausa2 : {
															minlength : 4,
															maxlength : 1000
														},
														descricaoCausa : {
															minlength : 4,
															maxlength : 1000
														},
														typeHour1 : {
															required : true
														}

													},

													messages : {
														tipoEvento : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														origemEvento : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														situacaoEvento : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														dataInicial : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														horaInicial : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														minutoInicial : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														causaProvavel : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														eventoKm : {
															required : "#{occLabels.campo_obrigatorio}",
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														eventoRodovia : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														eventoEstado1 : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														eventoSentido : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														eventoFaixa : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														condLocal : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														condTrafego : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														detalCaract : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														interFaixa : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														sinalizacao : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														situacCond : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														tab1 : {
															required : "#{occLabels.campo_obrigatorio}"
														},
														tituloDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														descrDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														envolvDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														procedimentoNome : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														procedimentoDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														trasitoExtKm : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														danoDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														acaoDescr : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														damageAmount : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														acaoDescrOtro : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														danoDescr2 : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														envolvDescr2 : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														descrDescr1 : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														descricaoCausa2 : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														descricaoCausa : {
															minlength : "#{occLabels.occ_minLength}",
															maxlength : "#{occLabels.occ_maxLength}"
														},
														typeHour1 : {
															required : "#{occLabels.campo_obrigatorio}"
														}

													},
													errorClass : "error-global",
													// use highlight and unhighlight
													highlight : function(
															element, errorClass) {
														$(element).addClass(
																errorClass);
														$(element.form)
																.find(
																		"label[for="
																				+ element.id
																				+ "]")
																.addClass(
																		errorClass);
														$(element.form)
																.find("select")
																.addClass(
																		'invalid');
														$(element.form)
																.find("input")
																.addClass(
																		'invalid');
														$(element.form)
																.find(
																		"textarea")
																.addClass(
																		'invalid');
													},
													unhighlight : function(
															element, errorClass) {
														$(element).removeClass(
																errorClass);
														$(element.form)
																.find(
																		"label[for="
																				+ element.id
																				+ "]")
																.removeClass(
																		errorClass);
														$(element.form)
																.find("select")
																.removeClass(
																		'invalid');
														$(element.form)
																.find("input")
																.removeClass(
																		'invalid');
														$(element.form)
																.find(
																		"textarea")
																.removeClass(
																		'invalid');
														$(element.form)
																.find("select")
																.addClass(
																		'valid');
														$(element.form)
																.find("input")
																.addClass(
																		'valid');
														$(element.form)
																.find(
																		"textarea")
																.addClass(
																		'valid');
													}
												});

							});

			//Scroll stucked on Top  ==> FOR SCROLL

			function setTopo() {
				$(window).scrollTop(0);
			}
			//Call setTopo()
			$(window).bind('scroll', setTopo);
			$.datepicker
					.setDefaults($.datepicker.regional['#{language.locale}']);

			/* $('#save').on('show.bs.modal', function () {
				
				 $('#exampleModalLabel').text('My New Modal Title');
			     
			  });*/
		</script>

	</ui:define>
	<ui:define name="main-content">

		<!-- Inicio do conteudo do site -->
		<!--Inicio da animação  -->
		<div id="preloader" style="display: none;">
			<div class="inner">
				<!-- HTML DA ANIMAÇÃO MUITO LOUCA DO SEU PRELOADER! -->
				<div class="bolas">
					<div></div>
					<div></div>
					<div></div>
				</div>
			</div>
		</div>
		<!-- Final da animação -->
		<div class="row">
			<!-- Inicio do lado direito -->
			<div class="col-md-12 col-sm-6 colDireita">
				<!-- Inicio da lista -->
				<div class="tabela-occ">
					<!-- Tabela listar -->
					<div id="tabelaReal">
						<h:dataTable id="occurrence-table" var="data" disabled="true"
							value="#{occurrencesBean.occurrences}"
							styleClass="table table-sm custom-table table-striped table-dark table-hover"
							cellspacing="0" width="100%" headerClass="custom-table-header"
							columnClasses="idColumn,  typeColumn, nameColumn, imageColumn, textColumn, actionColumn">

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_id}</f:facet>
								<h:outputText value="#{data.data_number}"
									style="font-size: 12px; " />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_type}</f:facet>
								<h:outputText value="#{data.type}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_source}</f:facet>
								<h:outputText value="#{data.date_time}" style="font-size: 12px;" />
							</h:column>

						

							<h:column>
								<f:facet class="barraTable" name="header">#{occLabels.occ_list_table_status}</f:facet>
								<h:outputText value="#{data.state_occurrences}"
									style="font-size: 12px;" />
							</h:column>
							<!--<h:column>
										<f:facet class="barraTable hidden" name="header">#{occLabels.occ_list_table_file}</f:facet>
										<img><i class="fas fa-check fa-2x iconeListYes"></i></img>
										<img><i class="fas fa-times fa-2x iconeListNot"></i></img>
									</h:column>-->
						</h:dataTable>
					</div>
				</div>
			</div>


			<!-- final da table -->

		</div>
		<!-- Final da lista -->

		<div class="text-center">
			<!-- Botão modal nova ocorrencia -->
			<h:commandButton id="modal1" class="btnConf2 text-center" disabled="#{occurrencesBean.btnEnable}" value="#{occLabels.btn_novo}">
				   <f:passThroughAttribute name="data-toggle" value="modalnovo" />
                    <f:ajax execute="@form" render="@none" />
                                            </h:commandButton>
			

		</div>

		<!-- Modal -->
		<!-- Formatação e cabeçalho modal -->
		<div class="modal fade bd-example-modal-xl" tabindex="-1"
			role="dialog" aria-labelledby="myExtraLargeModalLabel"
			aria-hidden="true" id="Occorrencenew">
		
				
				

			<div class="modal-dialog modal-xl ">
				<div class="modal-content fundo">
					<div class="modal-header ">
						<h5 class="modal-title ml-auto ">#{occLabels.occ_title_pdf}</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Fechar">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>


					<div class="modal-body">
						<div class="form-group col-md-12 text-center">
							<div class="btn-group col-md-5  mb-3 menu" role="group"
								aria-label="Basic example">


								<!-- FILE FORM -->
								<h:form id="form-file" prependId="false">

									<!-- MODAL DOWNLOAD -->
									<div class="modal fade" id="modalDownload" tabindex="-1"
										aria-labelledby="downloadModalLabel" aria-hidden="true">
										<div class="modal-dialog confirmation-modal">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title modal-alert-title"
														id="donwloadModalLabel">#{occLabels.occ_reports_modal_alert_download_title}</h5>
												</div>
												<div class="modal-body">
													<div class="row">
														<div class="col-md-12">
															<p class="modal-alert-msg">
																#{occLabels.occ_reports_modal_alert_download_file_pdf} <span
																	class="extension">#{occLabels.occ_reports_modal_alert_extension_pdf}</span>
																?
															</p>
														</div>
														<div class="col-md-12">
															<span class="msfPdf">#{occLabels.msgPdf}</span>
															<h:inputText value="#{occurrencesBean.userPdf}"
																id="userPdf" class="form-control inputDesign lll"
																pt:placeholder="#{occLabels.nome_operador}"></h:inputText>
															<br></br> <span id="msgErrorPdf" style="color: red;">#{occLabels.campo_obrigatorio}</span>
														</div>
													</div>

												</div>
												<div class="modal-footer">
													<button type="button" id="clickPdf"
														class="btn btn-dark form-draw-button"
														onclick="pdfValidator()">#{occLabels.occ_reports_modal_alert_btn_yes}</button>
													<h:commandButton pt:data-toggle="modal"
														style="display:none;" pt:data-target="#modalDownload"
														id="pdfpdf" class="btn btn-dark form-draw-button"
														action="#{occurrencesBean.downloadPdf}" />
													<h:commandButton
														value="#{occLabels.occ_reports_modal_alert_btn_no}"
														class="btn btn-dark form-draw-button">
														<f:passThroughAttribute name="data-dismiss" value="modal" />
														<f:ajax execute="@form" render="@none" />
													</h:commandButton>
												</div>
											</div>
										</div>
									</div>
									<!-- MODAL DOWNLOAD END -->


								</h:form>
								<!-- FILE FORM -->

							</div>
							<!-- Final do lado direito -->
							<!-- Inicio do lado esquerdo -->

							<!-- Botão para acionar modal -->


							<!-- Modal -->


						

							<div class="col-md-12 col-sm-6">
								<h:form prependId="false" enctype="multipart/form-data"
									id="form-cadastro">

									<!-- INICIO DOS MODAIS -->
									<!-- Modal editar -->
									<div class="modal fade" id="modalEditar" tabindex="-1"
										aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">#{occLabels.btn_editar}</h5>
												</div>
												<div class="modal-body">
													<p id="editModal">#{occLabels.msg_editar}</p>
													<p>#{occLabels.msg_occ_id_p}:
														#{occurrencesBean.data.data_number}</p>
													<p id="editorTextModal" style="display: none; color: red;">#{occLabels.occ_modal_Btn_Hidden}</p>
													<p id="editorTextModal2" style="display: none; color: red;">#{occLabels.occ_modal_Btn_Hidden2}</p>
													<p id="editorTextModal3" style="display: none; color: red;">#{occLabels.occ_modal_Btn_Hidden3}</p>
													<p id="editorTextModal4" style="display: none; color: red;">#{occLabels.occ_validation_hidden}</p>
												</div>
												<div class="modal-footer">
													<button type="submit" class="btn btnConf"
														data-dismiss="modal" id="editModalExit">#{occLabels.btn_nao}</button>
													<button type="submit" style="display: none"
														class="btn btnConf" data-dismiss="modal"
														id="editModalVoltar">#{occLabels.occ_btn_voltar}</button>
													<h:commandButton value="#{occLabels.btn_sim}"
														action="#{occurrencesBean.atualizarOcorrencia}"
														class="btn btnConf" id="editarBtn"
														onclick="mostrarTab1();" />
												</div>
											</div>
										</div>
									</div>
									<!-- Final do modal editar -->
									<!-- Modal salvar -->
									<div class="modal fade" id="modalSalvar" tabindex="-1"
										aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">#{occurrencesBean.title_modal}</h5>
												</div>
												<div class="modal-body">
													<p id="saveModal">#{occurrencesBean.message_modal}</p>
													<p id="saveTextModal" style="display: none; color: red;">
														#{occLabels.occ_modal_Btn_Hidden}</p>
													<p id="saveTextModal2" style="display: none; color: red;">
														#{occLabels.occ_modal_Btn_Hidden2}</p>
													<p id="saveTextModal3" style="display: none; color: red;">
														#{occLabels.occ_modal_Btn_Hidden3}</p>
													<p id="saveTextModal4" style="display: none; color: red;">
														#{occLabels.occ_validation_hidden}</p>
												</div>
												<div class="modal-footer">
													<button type="button" class="btn btnConf"
														data-dismiss="modal" id="SaveModalExit">#{occLabels.btn_nao}</button>
													<button type="submit" style="display: none"
														class="btn btnConf" data-dismiss="modal"
														id="saveModalVoltar">#{occLabels.occ_btn_voltar}</button>
													<h:commandButton value="#{occLabels.btn_sim}"
														action="#{occurrencesBean.atualizarOcorrencia}"
														class="btn btnConf" id="saveBtn" onclick="mostrarTab1();" />
												</div>
											</div>
										</div>
									</div>
									<!-- Final do modal Salvar -->
									<!-- Modal Anular -->
									<div class="modal fade" id="modalAnular" tabindex="-1"
										aria-labelledby="exampleModalLabel" aria-hidden="true">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<h5 class="modal-title" id="exampleModalLabel">#{occLabels.btn_anular}</h5>
												</div>
												<div class="modal-body">#{occLabels.msg_anular}</div>
												<div class="modal-footer">
													<button type="submit" class="btn btnConf"
														data-dismiss="modal">#{occLabels.btn_nao}</button>
													<h:commandLink value="#{occLabels.btn_sim}"
														onclick="resetForm(); reload();" id="anularAtual"
														action="#{occurrencesBean.resetOccurrencesData}"
														class="btn btnConf" />
													<!-- BOTÃO ANULAR SIM OCULTO = RESET TABLE -->
													<h:commandButton style="display: none;"
														value="#{occLabels.btn_sim}" type="reset"
														id="anularAtualHidden" onclick=" reload(); "
														action="#{occurrencesBean.resetOccurrencesData}"
														class="btn btnConf" />
													<h:commandButton style="display: none;"
														value="#{occLabels.btn_sim}" id="resetUpdate"
														action="#{occurrencesBean.resetUpdate}"
														class="btn btnConf" />
												</div>
											</div>
										</div>
									</div>
									<!--  FINAL DOS MODAIS -->
									<!-- Final do modal anular -->
									<div class="borderBtn">
										<!-- alert msg delete, save and download -->
										<!-- Arquivo salvo com sucesso -->
										<div class="alert alert-success text-center" role="alert"
											id="msgSave1" style="display: none;">
											<p class="textMsgFile">#{occLabels.occ_save_file_success}</p>
										</div>
										<!-- msg deletado com sucesso -->
										<div class="alert alert-danger text-center" role="alert"
											id="msgDelete2" style="display: none;">
											<p class="textMsgFile">#{occLabels.occ_delete_success}</p>
										</div>
										<!-- msg download realizado com sucesso -->
										<div class="alert alert-warning text-center" role="alert"
											id="msgDownload3" style="display: none;">
											<p class="textMsgFile">#{occLabels.occ_download_success}</p>
										</div>
										<!-- msg ocorrencia finalizada -->
										<div class="alert alert-danger text-center" role="alert"
											id="msgFinished" style="display: none;">
											<p class="textMsgFile">#{occLabels.occ_msgFinished}</p>
										</div>
										<!-- msg usuario esta editando ocorrencia -->
										<div class="alert alert-danger text-center" role="alert"
											id="msgOthersUsers" style="display: none;">
											<p class="textMsgFile">#{occLabels.occ_other_users}
												#{occurrencesBean.data.nameUser}</p>
										</div>
										<!-- msg pode editar essa ocorrencia -->
										<div class="alert alert-success text-center" role="alert"
											id="unLock" style="display: none;">
											<p class="textMsgFile">#{occLabels.un_lock}</p>
										</div>
										<div class="alert alert-success text-center" role="alert"
											id="updateOcc" style="display: none;">
											<h6 class="textMsgFile">#{occLabels.id_idUpdate}
												#{occurrencesBean.idUpdate}</h6>
										</div>
										<div class="alert alert-success text-center" role="alert"
											id="cancelOcc" style="display: none;">
											<h6 class="textMsgFile">#{occLabels.occ_cancel}</h6>
										</div>
										<div class="alert alert-dark text-center" role="alert"
											id="msgUploads" style="display: none;">
											<h6 class="textMsgFile">#{occLabels.success_upload}</h6>
										</div>
										<div class="container">
											<div class="row ">
												<div class="col-md-6" id="hiddenAnular">
													<!-- Botões de ações -->
													<div class="btn-group confBtnSubmit" role="group"
														aria-label="Basic example">

														<!-- Botão alterar -->
														<h:commandButton id="edit" class="btn btnConf"
															disabled="#{occurrencesBean.edit}"
															value="#{occLabels.btn_editar}"
															onclick="bloquerTable(); "
															action="#{occurrencesBean.btnEdit}">
															<!-- <f:ajax 
											execute="@form"
												render=":alterar :reset :new :tipoEvento :origemEvento :situacaoEvento :dataInicial :horaInicial :minutoInicial :unityDamage 
											    	:dataFinal :horaFinal :minutoFinal :causaProvavel :descricaoCausa :eventoKm :eventoKm :eventoEstado :eventoSentido :eventoFaixa :outrosEventos
											    	:condLocal :condTrafego :detalCaract :interFaixa :sinalizacao :situacCond :eventoRodovia :acaoDescrOtro :actionDescr2 :actionDescr1
											    	:tituloDescr :descrDescr :envolvTipo :envolvQuando :envolvDescr :acaoHoraFinal :acaoEndMinute :danoDescr2 :actionDescr3 :actionDescr4
											    	:procedimentoNome :procedimentoDescr :transitoHorario :transitoMinuto :trasitoExtKm :transitoPisIntenr :danosData :damageAmount
											    	:danoTipo :danoGravidade :danoDescr :acaoTipo :acaoInicio :acaoDuracao :acaoFim :acaoDescr :edit :myFile :acaoStatus :acaoData :acaoDataFinal
											    	:trackDateStart :trackHourStart :trackMinuteStart :trackDateEnd :trackHourEnd :trackMinuteEnd :descrDescr1 :descriptionBtn1 :descriptionBtn2
											    	:envolvDescr2 :involvedBtn1 :involvedBtn2 :descricaoCausa2 :causeProvavel1 :causeProvavel2 :btnUpload :btnUpdate :myFile2" /> -->
														</h:commandButton>
														<!-- Botão editar -->
														<h:commandButton id="alterar" class="btn btnConf"
															style="display: none;"
															disabled="#{occurrencesBean.alterar}"
															value="#{occLabels.btn_salvar}"
															onclick="eventValidator(); ">
															<f:passThroughAttribute name="data-toggle" value="modal" />
															<f:passThroughAttribute name="data-target"
																value="#modalEditar" />
															<f:ajax execute="@form" render="@none" />
														</h:commandButton>

														<!-- Botão Salvar -->
														<h:commandButton id="save" class="btn btnConf"
															disabled="#{occurrencesBean.save}"
															value="#{occLabels.btn_salvar}">
															<f:passThroughAttribute name="data-toggle" value="modal" />
															<f:passThroughAttribute name="data-target"
																value="#modalSalvar" />
															<f:ajax execute="@form" render="@none" />
														</h:commandButton>

														<!-- Botão Novo -->
														<h:commandButton class="btn btnConf" id="new"
															disabled="#{occurrencesBean.new_}"
															value="#{occLabels.btn_novo}"
															onclick="fileTotalHidden()">
															<f:ajax execute="@form"
																render=":save :reset :new :occNumber :date :hora :pedagio :folio
												     :report :sinistro :direction  :kmreg :kminicio :kmfinal :hrreg :hrstart
												     :politics :typeveic :quantveic :num 
													:brand :type :model :color :plate :tel :numc :name :age :health :descricaoCausa" listener="#{occurrencesBean.btnEnable}" />
														</h:commandButton>

														<!-- Botão Anular -->
														<h:commandButton id="reset" class="btn btnConf"
															disabled="#{occurrencesBean.reset}"
															value="#{occLabels.btn_anular}">
															<f:passThroughAttribute name="data-toggle" value="modal" />
															<f:passThroughAttribute name="data-target"
																value="#modalAnular" />
															<f:ajax execute="@form" render="@none" />
														</h:commandButton>
													</div>
												</div>

												<!-- col para separar btn e pdf -->
												<div class="col-md-1 btnPdf" id="iconPdf"
													style="display: none;">
													<!-- Icon PDF -->
													<h:commandLink class="btnPdf" id="pdfId"
														disabled="#{occurrencesBean.pdf}" data-toggle="tooltip"
														data-bs-placement="top"
														title="#{occLabels.occ_download_file}">
														<i class="fas fa-file-pdf pdf-shadow"></i>
														<f:passThroughAttribute name="data-toggle" value="modal" />
														<f:passThroughAttribute name="data-target"
															value="#modalDownload" />
														<f:ajax execute="@form" render="@none" />
													</h:commandLink>
												</div>
												<!-- final do pdf -->
												<!-- btns forms -->
												<div class="col-md-5">
													<!-- Botão form 1 -->
													<div class="btn-group" role="group"
														aria-label="Basic example" style="width: 100%;">
														<button type="button" id="btn1" name="btn1"
															class="btn btnConf" onclick="mostrarTab1();"
															data-toggle="tooltip" data-placement="bottom"
															title="#{occLabels.msg_btn_form1}">#{occLabels.occ_titulo_formulario1}</button>
														<!-- Botão form 2 -->

													</div>
												</div>
											</div>
										</div>
									</div>

									<!-- Inicio da primeira tabela -->
									<div id="tab1" name="tab1">

										<!-- Alert evento -->
										<div class="alert alert-dark confAlert" role="alert">
											<h5 class="text-center confTextAlert">#{occLabels.occ_titulo_evento}</h5>
										</div>
										<!-- FInal alert -->
										<div class="form-row">

											<div class="form-group col-md-5">
												<em for="inputAddress2">#{occLabels.$label_occ_reports_report}</em>
												<h:inputText value=""
													id="report" name="report" class="form-control inputDesign" disabled="#{occurrencesBean.fields}" />
											</div>
											

											<div class="form-group col-md-5">
												<em for="inputAddress">#{occLabels.$label_occ_reports_sinistro}</em>
												<h:inputText value="#{OccurrencesBean.data2.sinistro}"
													id="sinistro" name="sinistro" class="form-control inputDesign"
													 disabled="#{occurrencesBean.fields}" />
											</div>

											<div class="form-row">
												<div class="form-group col-md-5">
													<em for="inputAddress">#{occLabels.$label_occ_reports_direction}</em>
													<h:inputText value="#{occurrencesBean.data2.direcao}"
													id="direction" name="direction" class="form-control inputDesign" 
														disabled="#{occurrencesBean.fields}" />

												</div>
												<div class="form-group col-md-5">
													<em for="inputAddress">#{occLabels.$label_occ_reports_km_register}</em>
													<h:inputText value="#{occurrencesBean.data2.kmregistro}"
														disabled="#{occurrencesBean.fields}"
														class="form-control inputDesign" id="kmreg" name="kmreg" />

												</div>
											</div>

											<div class="form-row">
												<div class="form-group col-md-5">
													<em for="i">#{occLabels.$label_occ_reports_km_start}</em>
													<h:inputText class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}"
														value="#{occurrencesBean.data2.kminicial}" id="kminicio"
														name="kminicio" />

												</div>
												<!-- situacao occ -->
												<div class="form-group col-md-5">
													<em for="inputPassword4">#{occLabels.$label_occ_reports_km_final}</em>
													<h:inputText class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}"
														value="#{occurrencesBean.data2.kmfinal}" id="kmfinal"
														name="kmfinal" />

												</div>
											</div>
											<div class="form-row">
												<div class="form-group col-md-5">
													<em for="inputCity">#{occLabels.$label_occ_reports_hour_register}</em>
													<h:inputText class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}"
														value="#{occurrencesBean.data2.hrReg}" id="hrreg"
														name="hrreg" />
												</div>

												<!-- CODICAO TRAFEGO -->
												<div class="form-group col-md-5">
													<em for="inputAddress2">#{occLabels.$label_occ_reports_hour_start}</em>
													<h:inputText class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}"
														value="#{occurrencesBean.data2.hrchega}" id="hrstart"
														name="hrstar" />


												</div>
											</div>


											<div class="form-group col-md-12">
												<em for="inputAddress">#{occLabels.$label_occ_reports_politcs}</em>
												<h:inputText class="form-control inputDesign"
													disabled="#{occurrencesBean.fields}"
													value="#{occurrencesBean.data2.politica}" id="politics"
													name="politics" />


											</div>

											<!-- SINALICAO -->
											
											<!-- TITULO DA DESCRICAO -->
											
											<div class="form-row">
												<div class="form-group col-md-1">
													<em for="inputCity">#{occLabels.$label_occ_number}</em>
													<h:selectOneMenu
														value="#{occurrencesBean.data2.numcond}" name="numc"
														id="numc" disabled="#{occurrencesBean.fields}"
														class="form-control inputDesign">
														<f:selectItem itemLabel="select" itemValue="" />
														<!-- falta alterar parametro -->
														<f:selectItems value="#{occurrencesBean.horas}" />
													</h:selectOneMenu>
													<span style="display: none;" class="errorInputs"
														id="errorTrack6">#{occLabels.occ_error_input}</span>
												</div>

												<div class="col-md-3">
													<em for="inputCity">#{occLabels.$label_occ_driver_name}</em>
													<h:inputText value="#{occurrencesBean.data2.nome}"
														id="name" name="name" onclick="validatorJs();"
														class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}" />

												</div>

												<div class="form-group col-md-3">
													<em for="inputEmail4">#{occLabels.$label_occ_age}</em>
													<h:inputText value="#{occurrencesBean.data2.idade}"
														disabled="#{occurrencesBean.fields}"
														class="form-control inputDesign" name="age" id="age" />
												</div>
												<!-- PISTA INTERROMPIDA -->
												<div class="form-group col-md-3">
													<em for="inputEmail4">#{occLabels.$label_occ_health_conditions}</em>
													<h:inputText value="#{occurrencesBean.data2.saude}"
														id="health" name="health" onclick="validatorJs();"
														class="form-control inputDesign"
														disabled="#{occurrencesBean.fields}" />
												</div>
											</div>

											<!-- TIPO DANO -->
										
												<!-- GRAVIDADE DANO -->

											

										</div>




											<!-- textarea descricao principal -->
											<div class="form-group col-md-12" id="descriptionCause1">
												<em for="inputAddress2">#{occLabels.occ_descript_action1}</em>
												<h:inputTextarea
													value="#{occurrencesBean.data.cause_description}"
													id="descricaoCausa" name="descricaoCausa"
													class="form-control textareaDesign"
													pt:placeholder="#{occLabels.occ_descript_action1}"
													disabled="#{occurrencesBean.fields}" />
											</div>
											<!-- textarea descricao interna -->
											<div class="form-group col-md-12" id="descriptionCause2"
												style="display: none;">
												<em for="inputAddress2">#{occLabels.occ_descript_action2}</em>
												<h:inputTextarea
													value="#{occurrencesBean.data.causeDescrInter}"
													id="descricaoCausa2" name="descricaoCausa2"
													class="form-control textareaDesign"
													pt:placeholder="#{occLabels.occ_descript_action2}"
													disabled="#{occurrencesBean.fields}" />
											</div>
											
											<!-- Inicio do add File -->
						<div class="form-row center">
							<!-- ALert Anexos -->
							<div class="alert alert-dark confAlert center" role="alert">
								<h5 class="text-center confTextAlert">#{occLabels.occ_btn_arquivo_add}</h5>
							</div>
							<!-- FInal alert Anexos -->

							<!-- input file save -->
							<div id="uploadFile1" class="form-row" style="display: none;">
								<div class="form-group col-md-12 field" align="left">
									<h:inputFile id="myFile" value="#{occurrencesBean.file}"
										a:multiple="true" disabled="#{occurrencesBean.fields}" />
									<p class="validatorFile" id="errorFile">#{occLabels.campo_obrigatorio}</p>
									<br></br>
									<p class="validatorFile" id="errorFileSize">#{occLabels.size_file}</p>
								</div>
								BTN UPLOAD FILE
								<div class="col-md-12">
									<h:commandButton class="btn btnConf" id="btnUpload"
										value="#{occLabels.occ_uploadFile}"
										action="#{occurrencesBean.uploadFile}"
										disabled="#{occurrencesBean.fields}"
										onclick="validatorFile();" />
								</div>
							</div>
							<!-- End input file save -->

							<!-- input file alterar -->
							<div class="form-row" id="listDateFile" style="display: none;">
								<div class="form-group col-md-9 field" align="left">
									<h:inputFile value="#{occurrencesBean.file2}" id="myFile2"
										a:multiple="true" disabled="#{occurrencesBean.fields}" />
									<p class="validatorFile" id="errorFile2">#{occLabels.campo_obrigatorio}</p>
									<br></br>
									<p class="validatorFile" id="errorFileSize2">#{occLabels.size_file}</p>

								</div>
								<!-- BTN UPDATE FILE -->
								<div class="col-md-3">
									<h:commandButton class="btn btnConf" id="btnUpdate"
										onclick="validatorFile2();"
										value="#{occLabels.occ_uploadFile}"
										action="#{occurrencesBean.updateFile}"
										disabled="#{occurrencesBean.fields}" />
								</div>
							</div>
							
							<div class="alert alert-dark confAlert" id="fileTotal"
								role="alert">
								<h5 class="text-center confTextAlert">#{occLabels.occ_list_files}
									(#{occurrencesBean.total})</h5>
							</div>

							<div class="listarFiles" id="listFiles">
								<div class="col-md-12">
									<!-- Array arquivos na pasta -->
									<c:forEach items="#{occurrencesBean.listarFile}" var="item"
										id="listandoFile" varStatus="loop">
										<div class="row">
											<div class="col-md-12">
												<div class="row">
													<!-- image file -->
													<!--<div class="col-md-2">
														 <h:graphicImage id="getPathImg" class="imageFile"
															value="#{occurrencesBean.getImageUpload(item)}"></h:graphicImage>
													</div> -->
													<!-- name file -->
													<div class="col-md-8 text-center">
														<span>#{occLabels.occ_name_file} </span>
														<p class="text-center">#{item}</p>
													</div>

													<!-- btn delete -->
													<div class="col-md-2">

														<span>#{occLabels.occ_delete}</span>

														<div class="dropdown">

															<button class=" dropdown-toggle" type="button"
																id="dropdownMenuButton" data-toggle="dropdown"
																aria-expanded="false">

																<i class="far fa-trash-alt"></i>

															</button>

															<ul class="dropdown-menu"
																aria-labelledby="dropdownMenuButton">
																<li><a class="dropdown-item" href="#">#{occLabels.occ_no}</a></li>

																<li><h:commandLink
																		action="#{occurrencesBean.deleteFile(item)}"
																		class="dropdown-item" href="#">#{occLabels.occ_yes}</h:commandLink></li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
										<hr></hr>
									</c:forEach>
								</div>
								<!-- List file update -->
								<div class="col-md-12">
									<!-- Array arquivos na pasta -->
									<c:forEach id="listUpdate"
										items="#{occurrencesBean.listUpdate}" var="item"
										varStatus="loop">
										<div class="row">
											<div class="col-md-12">
												<div class="row">

													<!-- name file -->
													<div class="col-md-7 text-center">
														<span>#{occLabels.occ_name_file} </span>
														<p class="text-center">#{item}</p>
													</div>

													<!-- btn delete -->
													<div class="col-md-1" id="updateDeleteIcon">
														<span>#{occLabels.occ_delete}</span>
														<div class="dropdown">
															<button class=" dropdown-toggle" type="button"
																id="dropdownMenuButton" data-toggle="dropdown"
																aria-expanded="false">
																<i class="far fa-trash-alt"></i>
															</button>
															<ul class="dropdown-menu"
																aria-labelledby="dropdownMenuButton">
																<li><a class="dropdown-item" href="#">#{occLabels.occ_no}</a></li>
																<li><h:commandLink
																		disabled="#{occurrencesBean.fields}"
																		action="#{occurrencesBean.deleteFileUpdate(item)}"
																		class="dropdown-item" href="#">#{occLabels.occ_yes}</h:commandLink></li>
															</ul>
														</div>
													</div>
													<!-- download -->
													<div class="col-md-1">
														<span>#{occLabels.occ_download}</span>
														<div class="dropdown">
															<button class="dropdown-toggle" type="button"
																id="dropdownMenuButton" data-toggle="dropdown"
																aria-expanded="false">
																<i class="fas fa-cloud-download-alt iconFile"
																	data-toggle="tooltip" data-bs-placement="right"
																	title="Download"></i>
															</button>
															<ul class="dropdown-menu"
																aria-labelledby="dropdownMenuButton">
																<li><a class="dropdown-item" href="#">#{occLabels.occ_no}</a></li>
																<li><h:commandLink class="dropdown-item"
																		action="#{occurrencesBean.downloadUpdate(item)}">#{occLabels.occ_yes}</h:commandLink></li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
										<hr></hr>
									</c:forEach>
								</div>
								<!-- List files click table -->
								<div class="col-md-12" id="listUpdateFileT"
									style="display: none;">
									<!-- Array arquivos na pasta -->
									<c:forEach items="#{occurrencesBean.tableFile}" var="item"
										varStatus="loop">
										<div class="row">
											<div class="col-md-12">
												<div class="row">
													<div class="col-md-7 text-center">
														<span>#{occLabels.occ_name_file} </span>
														<p class="text-center">#{item}</p>
													</div>

													<!-- download -->
													<div class="col-md-1">
														<span>#{occLabels.occ_download}</span>
														<div class="dropdown">
															<button class="dropdown-toggle" type="button"
																id="dropdownMenuButton" data-toggle="dropdown"
																aria-expanded="false">
																<i class="fas fa-cloud-download-alt iconFile"
																	data-toggle="tooltip" data-bs-placement="right"
																	title="Download"></i>
															</button>
															<ul class="dropdown-menu"
																aria-labelledby="dropdownMenuButton">
																<li><a class="dropdown-item" href="#">#{occLabels.occ_no}</a></li>
																<li><h:commandLink class="dropdown-item"
																		action="#{occurrencesBean.downloadUpdateTable(item)}">#{occLabels.occ_yes}</h:commandLink></li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
										<hr></hr>
									</c:forEach>
								</div>
							</div>
							<!-- FInal alert -->
						</div>
						<!-- Pega o valor do id e inclui arquivo no diretorio do mesmo id (File Alterar) -->
						
					</div>
											<!-- Inicio descricao principal e descricao interna -->
						


									
									<!-- Final da primeira tabela -->
									<!-- Inicio da segunda tabela -->



									<!-- FInal alert descrição -->

									<!-- ALert Envolvidos -->

									<!-- FInal alert Envolvidos -->

									<!-- Inicio da Terceira tabela -->


								</h:form>
								<h:form id="enable">
									<h:commandButton id="btn-enable-user" value="loop"
										style="display: none;" type="buttom">
										<f:ajax execute="@form"
											listener="#{occurrencesBean.enableUser}"></f:ajax>
									</h:commandButton>
								</h:form>
							</div>
							<!-- Final do lado esquerdo -->
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- Final do conteudo do site -->
		<!-- Script -->
		<h:outputScript name="occ.js" library="js/occ" />
		<h:outputScript name="class_occ.js" library="js/occ" />
		<h:outputScript name="controller_occ.js" library="js/occ" />
		<h:outputScript name="datepicker.js" library="js/datepicker" />
		<h:outputScript name="locales-datepicker.js" library="js/datepicker" />
		<h:outputScript name="jquery.validate.min.js"
			library="js/jquery-validation" />
		<h:outputScript name="additional-methods.min.js"
			library="js/jquery-validation" />
		<h:outputScript name="bootstrap.bundle.min.js" library="bootstrap/js" />
		<script>
			//Inicio dos comandos JavaScript
			//getFilename();

			myFunction();// ADD ARQUIVOS
			myFunction2();//myFunction2();
			tabelaReal(); //Função da tabela de seleção [Editar]
			tableBloqueada(); //Função Tabela Oculta [Desabilita o editar]
			selecaoTable(); //Função que pega o id da tabela e coloca nos inputs[]
			onload(); //Oculta o formulario 2 e 3
		</script>
	</ui:define>
</ui:composition>
