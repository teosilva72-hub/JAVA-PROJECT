<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://jcp.org/ui"
	template="/template/dashboard-rov-layout.xhtml">

	<ui:define name="loading"></ui:define>

	<ui:define name="head">
		<title>#{abaLabels.occurrences}</title>
		<!-- Style -->
		<h:outputStylesheet library="css/datatables/custom" name="table-style.css" />
		<h:outputStylesheet library="css/occ" name="occurrences.css" />
		<h:outputStylesheet library="css/global" name="global.css" />
		<h:outputStylesheet name="datepicker.css" library="css/datepicker" />
		<h:outputStylesheet library="css/commom" name="commons.css" />
		<h:outputStylesheet library="css/forms" name="form-style.css" />

	</ui:define>
	<ui:define name="main-content">

		<!-- Inicio do conteudo do site -->
		<section class="conteudo"> <!--Inicio da animação  -->
		<div id="preloader" style="display: none;">
			<div class="inner">
				<!-- HTML DA ANIMAÇÃO MUITO LOUCA DO SEU PRELOADER! -->
				<div class="bolas">
					<div></div>
					<div></div>
					<div></div>
				</div>
			</div>
		</div>
		<!-- Final da animação -->
		<div class="row">
			<!-- Inicio do lado direito -->
			<div class="colDireita">
				<!-- Inicio da lista -->
				<div class="tabela-occ">
					<!-- Tabela listar -->
					<div id="tabelaReal">
						<h:dataTable id="occurrence-table" var="data" disabled="true"
							value="#{occurrencesBean.occurrences}"
							styleClass="table table-sm custom-table table-striped table-dark table-hover"
							cellspacing="0" width="100%" headerClass="custom-table-header"
							columnClasses="idColumn,  typeColumn, nameColumn, imageColumn, textColumn, actionColumn">

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_id}</f:facet>
								<h:outputText value="#{data.data_number}"
									style="font-size: 12px; " />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_type}</f:facet>
								<h:outputText value="#{data.type}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_source}</f:facet>
								<h:outputText value="#{data.date_time}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_cause}</f:facet>
								<h:outputText value="#{data.cause}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet class="barraTable" name="header">#{occLabels.occ_list_table_status}</f:facet>
								<h:outputText value="#{data.state_occurrences}"
									style="font-size: 12px;" />
							</h:column>
							<!--<h:column>
										<f:facet class="barraTable hidden" name="header">#{occLabels.occ_list_table_file}</f:facet>
										<img><i class="fas fa-check fa-2x iconeListYes"></i></img>
										<img><i class="fas fa-times fa-2x iconeListNot"></i></img>
									</h:column>-->

						</h:dataTable>
					</div>	
					<!-- final da table -->
					<!-- Inicio da tabela oculta -->
					<div id="tabelaOculta" class="testeTable">
						<h:dataTable id="occurrence-tables" var="data"
							value="#{occurrencesBean.occurrences}"
							styleClass="table table-sm custom-table table-striped table-dark table-hover"
							cellspacing="0" width="100%" headerClass="custom-table-header"
							columnClasses="idColumn,  typeColumn, nameColumn, imageColumn, textColumn, actionColumn">

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_id}</f:facet>
								<h:outputText value="#{data.data_number}"
									style="font-size: 12px; " />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_type}</f:facet>
								<h:outputText value="#{data.type}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_source}</f:facet>
								<h:outputText value="#{data.date_time}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet name="header">#{occLabels.occ_list_table_cause}</f:facet>
								<h:outputText value="#{data.cause}" style="font-size: 12px;" />
							</h:column>

							<h:column>
								<f:facet class="header" name="header">#{occLabels.occ_list_table_status}</f:facet>
								<h:outputText value="#{data.state_occurrences}"
									style="font-size: 12px;" />
							</h:column>

						</h:dataTable>
						
				<!---->
								
				<!-- MODAL DOWNLOAD -->
					<div class="modal fade" id="modalDownload" tabindex="-1"
						aria-labelledby="downloadModalLabel" aria-hidden="true">
						<div class="modal-dialog confirmation-modal">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title modal-alert-title"
										id="donwloadModalLabel">#{occLabels.occ_reports_modal_alert_download_title}</h5>
								</div>
								<div class="modal-body">
									<div class="row">
										<div class="col-md-12">
											<p class="modal-alert-msg">
												#{occLabels.occ_reports_modal_alert_download_file_pdf} <span
													class="extension">#{occLabels.occ_reports_modal_alert_extension_pdf}</span>
												
											</p>
										</div>
										<div class="col-md-12">
										<span class="msfPdf">#{occLabels.msgPdf}</span>
											<h:inputText value="#{occurrencesBean.userPdf}" id="userPdf"
												class="form-control inputDesign lll"
												pt:placeholder="#{occLabels.nome_operador}"></h:inputText><br></br>
												<span id="msgErrorPdf" style="color:red;">#{occLabels.campo_obrigatorio}</span>
										</div>
									</div>

								</div>
								<div class="modal-footer">
									<button type="button" id="clickPdf"
										class="btn btn-dark form-draw-button" onclick="pdfValidator()">#{occLabels.occ_reports_modal_alert_btn_yes}</button>
									<h:commandButton pt:data-toggle="modal" style="display:none;"
										pt:data-target="#modalDownload" id="pdfpdf"
										class="btn btn-dark form-draw-button"
										action="#{occurrencesBean.downloadPdf}" />
									<h:commandButton
										value="#{occLabels.occ_reports_modal_alert_btn_no}"
										class="btn btn-dark form-draw-button">
										<f:passThroughAttribute name="data-dismiss" value="modal" />
										<f:ajax execute="@form" render="@none" />
									</h:commandButton>
								</div>
							</div>
						</div>
					</div>
					
					<!-- MODAL DOWNLOAD END -->
				
		
		
		     </div>
		  </div>
	   </div>
	</div>
</section>

	</ui:define>
</ui:composition>
