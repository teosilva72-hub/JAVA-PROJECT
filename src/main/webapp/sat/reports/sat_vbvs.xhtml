<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:jsf="http://xmlns.jcp.org/jsf" 
	xmlns:pf="http://primefaces.org/ui"
	template="/template/dashboard-rov-layout.xhtml">
		
	<ui:define name="head" >
	
	<h:outputStylesheet library="css/datatables/custom"
			name="table-style.css" />		
		<h:outputStylesheet library="css/reports" name="vbv_report.css" />
		<h:outputStylesheet library="css/forms" name="form-style.css" />	
	
		<h:outputScript library="js/validation-forms/reports"
		   name="vbv-report.js" />
			
	</ui:define>
	
	 <ui:define name="main-content" >
	 	 
	  	 <!-- myModal -->
	  	 	  	 
	  	 <h:form name="vbv-form" id="vbv-form">
	  	 	  	     
             <div class="vbv-container">
             
               <!-- Mensagem parte superior -->
	           <div id="message-div">
			     <pf:messages id="msgs" showDetail="true" autoUpdate="true" closable="true" />
		       </div>

				<div class="text-dark text-center font-weight-bold report-title">
					<h:outputText value="#{satLabels.sat_reports_name_vbv}" />
					<hr></hr>
				</div>

				<h4 class="vbv-title">#{satLabels.sat_reports_modal_title}</h4> 
                 <br/>                          
                        <div class="form-row vbv-field" id="vbv_equips">
							<div class="form-group select-field">															
									<span><i class="fas fa-hdd"></i></span>	
									 <span for="equip"
										class="valid-icon-hidden"></span>	
									<select name="equip" id="equip" size="1"  >											
								     <option value="" >#{satLabels.sat_reports_select_equipments}</option>
								   	   <ui:repeat var="eqp"  value="#{satReportsBean.equipments}"  varStatus="eqpStatus" >
								         <option value="#{eqp.value}" > #{eqp.label} </option>	                                  
                                        </ui:repeat> 									
								    </select>																	
								</div>
								<div class="error-label"><label for="equip" class="error" id="equip-error"></label></div>
							</div>					
					
					    <h:inputHidden value ="month" id="period" name="period" /> 
							
					     <div class="form-row vbv-field" id="vbv_months" >
							<div class="form-group col-sm-12 select-field">															
									<span><i class="fas fa-calendar-alt"></i></span>
									 <span for="month"
										class="valid-icon-hidden"></span>
									<select name="month" id="month" size="1"  >										
								     <option value="" >#{satLabels.sat_reports_select_month}</option>
								   	   <ui:repeat var="mth"  value="#{satReportsBean.months}"  varStatus="monthStatus" >
								         <option value="#{mth.value}" > #{mth.label} </option>	                                  
                                        </ui:repeat> 									
								    </select>																	
								</div>
								<div class="error-label"><label for="month" class="error" id="month-error"></label></div>
							</div>
																												
					<div class="form-row vbv-field" id="vbv_years">
							<div class="form-group col-sm-12 select-field">																	
									<span><i class="fas fa-calendar"></i></span>
									 <span for="month"
										class="valid-icon-hidden"></span>
									<select name="year" id="year" size="1"  >										
								     <option value="" >#{satLabels.sat_reports_select_year}</option>
								   	   <ui:repeat var="year"  value="#{satReportsBean.years}"  varStatus="yearStatus" >
								         <option value="#{year.value}" > #{year.label} </option>	                                  
                                        </ui:repeat> 									
								    </select>																	
								</div>
								<div class="error-label"><label for="year" class="error" id="year-error"></label></div>
							</div>
																
						 <div class="vbv-footer">  
						 
						 <h:commandButton value="#{satLabels.sat_reports_form_btn_send}"
							id="btn-send" action="#{satReportsBean.GetVBVReport}"
							class="btn btn-dark form-draw-button submit-btn" />

						<h:commandButton value="#{satLabels.sat_reports_form_btn_reset}"
							id="btn-reset" immediate="true" type="reset"
							action="#{satReportsBean.resetFormValues}"
							class="btn btn-dark form-draw-button reset-btn">
							<f:ajax execute="@form" render="@form" />
						</h:commandButton>
				            
				<br />	  
               
            </div>																				
                
			</div>
           
        </h:form>
        
        
        <!-- SCRIPT DEFINITIONS -->

		<script type="text/javascript">
	  	
	    //Validation Form
	    formValidation('#{requiredMessages.required_sat_reports_select_equipments}', '#{requiredMessages.required_sat_reports_select_months}',  '#{requiredMessages.required_sat_reports_select_years}');
	    	 	  	   
	    </script>

		<!-- SCRIPT DEFINITIONS -->
   	 
	 </ui:define>
	
		
	</ui:composition>	